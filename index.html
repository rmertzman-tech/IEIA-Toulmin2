<!DOCTYPE html>
<!--
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
ETHICAL REASONING FOR THE INFORMATION AGE: THE TOULMIN TOOL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Version: Phase 4 - Complete
Created: December 2024
Author: Bob McGrew (Ethics Beyond Boundaries Project)
Institution: Saint Petersburg College Ethics Institute

DESCRIPTION:
Interactive web application for teaching systematic ethical argument analysis
using Toulmin's framework integrated with coherence theory. Designed for
community college ethics courses bridging traditional philosophy with
Information Age coordination challenges.

KEY FEATURES:
‚Ä¢ 12 diverse philosophical traditions (Western, Eastern, African, Indigenous)
‚Ä¢ OS1/OS2 dual-capacity framework (phenomenological + meta-constructor)
‚Ä¢ Five coherence dimensions (BRC, KIC, CIC, ISC, TNC)
‚Ä¢ Toulmin argument analysis integrated with coherence requirements
‚Ä¢ Personalized philosopher recommendations based on student coherence state
‚Ä¢ Full accessibility support (ARIA, keyboard navigation, screen readers)
‚Ä¢ Progress tracking and certificate generation

SECTIONS:
1. Introduction - Information Age coordination challenges
2. OS1/OS2 Framework - Dual capacity model
3. Coherence Dimensions - Interactive exploration of BRC/KIC/CIC/ISC/TNC
4. FAIM-QIRF Notation - Formal modeling framework
5. Philosopher Exemplars - 12 traditions with coherence requirements
6. Comparative Analysis - Standpoint comparison with OS1 Deep Dive
7. Toulmin + Coherence Integration - Mapping arguments to coherence
8. Student Modeling - Coherence self-assessment & recommendations
9. Argument Analysis - Toulmin breakdown by philosopher
10. Synthesis - Reflection prompts and certificate generation

PEDAGOGICAL APPROACH:
Students learn both rigorous argument analysis (OS1) AND reflective awareness
of how their own coherence state affects which frameworks are accessible (OS2).
This makes philosophy practical: not "which ethics is right?" but "which ethics
can I actually access given my current conditions?"

TECHNICAL DETAILS:
‚Ä¢ Single-file React application (no build step required)
‚Ä¢ Tailwind CSS via CDN for styling
‚Ä¢ LocalStorage for progress persistence
‚Ä¢ Session tracking with unique IDs
‚Ä¢ Fully self-contained (works offline once loaded)

USAGE:
1. Open file in modern web browser
2. Enter student information to begin
3. Progress automatically saved to localStorage
4. Certificate downloadable upon completion

LICENSE:
Educational use permitted. Attribution required.
¬© 2024 Ethics Beyond Boundaries Project

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethical Reasoning for the Information Age: The Toulmin Tool</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Prevent textarea resizing to avoid page jumps */
        textarea {
            resize: none;
        }
        
        /* Accessibility: Focus visible */
        *:focus {
            outline: 3px solid #fbbf24;
            outline-offset: 2px;
        }
        
        /* Screen reader only content */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Skip link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #000;
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 100;
        }
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Generate session ID
        const generateSessionId = () => {
            const date = new Date();
            const dateStr = date.toISOString().slice(0,10).replace(/-/g, '');
            const timeStr = date.toTimeString().slice(0,5).replace(/:/g, '');
            const random = Math.random().toString(36).substring(2, 8).toUpperCase();
            return `TOULMIN-${dateStr}-${timeStr}-${random}`;
        };

        // Philosopher database - ALL 12 PRESERVED
        const PHILOSOPHERS = {
            socrates: {
                name: "Socrates",
                era: "Ancient Greece (470-399 BCE)",
                region: "Western",
                image: "üèõÔ∏è",
                coherenceRequirements: {
                    BRC: { required: true, level: "moderate", note: "Needs emotional regulation for dialectical patience" },
                    KIC: { required: true, level: "high", note: "Examined life requires integrated self-awareness" },
                    CIC: { required: true, level: "very-high", note: "Dialectical reasoning demands high cognitive capacity" },
                    ISC: { required: true, level: "high", note: "Required leisure class and democratic Athens" },
                    TNC: { required: true, level: "moderate", note: "Life-long commitment to questioning" }
                },
                whenWorks: "When you have leisure, education, dialectical partners, and community that values questioning",
                whenFails: "Under cognitive overload, time pressure, authoritarian contexts, or when survival needs dominate",
                model: {
                    IK: "Examined life is the only life worth living; virtue is knowledge",
                    PRS_t: "Ethical questions revealed through dialectical questioning; appearances deceive",
                    SPTS: ["Athenian citizen", "Stonemason's son", "Gadfly of Athens", "Male philosopher"],
                    AH: "Grew up in democratic Athens; experienced Peloponnesian War; questioned sophists; executed by democracy",
                    BROAPlus: "Knowledge through dialogue; definitions must withstand scrutiny; virtue can be taught",
                    Cap: "Capacity for self-examination and moral reasoning present in everyone",
                    Capab: "Elenchus method - systematic questioning to reveal contradictions",
                    Cons: "Dialogical practice; trained students like Plato; method persisted",
                    MetaCons: "Limited - relied on memory of students; no systematic review",
                    Gates: "Required dialectical skill; oral culture; excluded those unable to argue"
                },
                keyInsights: [
                    "Made ethics central to philosophy",
                    "Method over doctrine - questioning more important than answers",
                    "Universal moral knowledge possible through reason"
                ],
                limitations: [
                    "Required leisure and education - excluded workers, slaves, women",
                    "Athenian male perspective shaped what counted as virtue",
                    "Oral method meant fragility"
                ],
                whatRevealed: "Power of systematic questioning; ethics as rational inquiry",
                whatExcluded: "Perspectives of women, slaves, non-Greeks; practical wisdom of workers",
                toulminArguments: [
                    {
                        id: "examined-life",
                        claim: "The examined life is the only life worth living",
                        grounds: [
                            "People act on their beliefs without questioning them",
                            "Unexamined beliefs often contain contradictions",
                            "Contradictory beliefs lead to confused and harmful actions",
                            "Most people cannot define the virtues they claim to possess"
                        ],
                        warrant: "If beliefs guide action AND unexamined beliefs may be false or contradictory, THEN we must examine our beliefs through dialectic to live well",
                        warrantType: "Rational necessity - logical requirement for coherent action",
                        backing: [
                            "Dialectical method (elenchus) systematically reveals hidden contradictions",
                            "Self-knowledge demonstrated as prerequisite for virtue in dialogues",
                            "History of refuting sophists who claimed wisdom without examination",
                            "Philosophical practice as lived commitment to questioning"
                        ],
                        qualifier: "Certainty within rationalist framework; conviction based on dialectical practice",
                        qualifierStrength: 0.95,
                        rebuttals: [
                            "IF wisdom exists beyond rational inquiry (mystical knowledge, revelation)",
                            "IF some truths aren't accessible via dialogue (embodied, practical wisdom)",
                            "IF virtue comes from sources other than knowledge (habit, emotion, grace)",
                            "IF dialectical skill itself requires privilege (leisure, education)"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through dialectical questioning reveal contradictions in ordinary beliefs",
                            warrantFrom: "Capab - Elenchus method as reliable procedure for testing beliefs",
                            backingFrom: "Cons - Dialogical practice that persisted through students like Plato",
                            rebuttalsFrom: "Gates - Excludes knowledge forms that don't fit dialectical model; SPTS limits to those who can engage in sustained argument"
                        }
                    }
                ]
            },
            
            aristotle: {
                name: "Aristotle",
                era: "Ancient Greece (384-322 BCE)",
                region: "Western",
                image: "üìñ",
                coherenceRequirements: {
                    BRC: { required: true, level: "high", note: "Emotions must be regulated - doctrine of the mean" },
                    KIC: { required: true, level: "very-high", note: "Virtue as settled character requires integrated identity" },
                    CIC: { required: true, level: "high", note: "Phronesis requires cognitive bandwidth for context-sensitivity" },
                    ISC: { required: true, level: "very-high", note: "Requires polis, community, and leisure" },
                    TNC: { required: true, level: "very-high", note: "Virtue develops across complete life - decades not moments" }
                },
                whenWorks: "When you have stable community, leisure for contemplation, supportive relationships, and time for virtue development",
                whenFails: "Under chronic stress, isolation, precarity, time pressure, or institutional betrayal",
                model: {
                    IK: "Human flourishing (eudaimonia) through virtue; teleological nature; golden mean",
                    PRS_t: "Purpose/function reveals proper activity; observation + reason; virtue through habituation",
                    SPTS: ["Greek male", "Macedonian", "Philosopher", "Teacher", "Naturalist"],
                    AH: "Student of Plato; tutor to Alexander; founded Lyceum; systematic researcher",
                    BROAPlus: "Empiricism + logic; systematic classification; virtue as excellence of function",
                    Cap: "Humans have natural capacity for reason and virtue (but NOT slaves, barbarians, women fully)",
                    Capab: "Virtue ethics; systematic observation; logical analysis; classification",
                    Cons: "Lyceum as institution; systematic corpus; educational tradition",
                    MetaCons: "Limited - preserved through manuscripts but little adaptation mechanism",
                    Gates: "Flourishing = free Greek males with leisure; slaves 'naturally' suited to servitude"
                },
                keyInsights: [
                    "Ethics tied to human function and flourishing",
                    "Virtue developed through practice and habituation",
                    "Practical wisdom (phronesis) essential"
                ],
                limitations: [
                    "Flourishing defined from perspective of free Greek male elite",
                    "Justified slavery and women's subordination as 'natural'",
                    "Required leisure for virtuous activity"
                ],
                whatRevealed: "Virtue ethics as systematic framework; importance of character",
                whatExcluded: "Perspectives of women, slaves, 'barbarians'; alternative conceptions of flourishing",
                toulminArguments: [
                    {
                        id: "flourishing-function",
                        claim: "Human flourishing (eudaimonia) comes from excellent performance of our characteristic function",
                        grounds: [
                            "Every organ and craft has a function (ergon) - eye sees, knife cuts, doctor heals",
                            "Excellent performance of function = virtue/excellence (arete) of that thing",
                            "Humans have a characteristic function: rational activity",
                            "Observation: people praise excellence and blame deficiency in function-performance"
                        ],
                        warrant: "If everything with a function flourishes by performing it excellently, AND humans' function is rational activity, THEN human flourishing = excellent rational activity (virtue)",
                        warrantType: "Teleological reasoning - from nature/function to proper activity",
                        backing: [
                            "Systematic observation of natural kinds and their functions",
                            "Empirical study of virtuous people and their characteristics",
                            "Political/social confirmation: communities organize around cultivating virtue",
                            "Logical analysis: flourishing must be activity, not mere possession"
                        ],
                        qualifier: "High confidence for those with right nature and upbringing; qualified by need for external goods",
                        qualifierStrength: 0.85,
                        rebuttals: [
                            "IF humans don't have a single essential function (we're multifaceted)",
                            "IF flourishing is defined by groups excluded from 'rational activity' (slaves, women per Aristotle)",
                            "IF virtue comes from sources other than habituation in proper function",
                            "IF 'natural' hierarchies are actually socially constructed"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through empirical observation and logical analysis of natural kinds",
                            warrantFrom: "Capab - Systematic classification, virtue ethics, logical analysis as reliable methods",
                            backingFrom: "Cons - Lyceum as institution, systematic corpus, educational tradition that persists",
                            rebuttalsFrom: "Gates - 'Flourishing = free Greek males with leisure'; excludes those whose labor enables others' contemplation"
                        }
                    }
                ]
            },

            maathai: {
                name: "Wangari Maathai",
                era: "Contemporary (1940-2011)",
                region: "Kenya/Africa",
                image: "üå≥",
                coherenceRequirements: {
                    BRC: { required: true, level: "high", note: "Environmental activism requires emotional resilience under threat" },
                    KIC: { required: true, level: "high", note: "Identity as African woman environmentalist integrated across roles" },
                    CIC: { required: true, level: "moderate", note: "Seeing connections requires cognitive capacity but grounded in practice" },
                    ISC: { required: true, level: "very-high", note: "Environmental justice requires institutional support and community organizing" },
                    TNC: { required: true, level: "high", note: "Tree planting is multi-generational commitment" }
                },
                whenWorks: "When community organizing is possible, indigenous knowledge valued, and women's labor recognized",
                whenFails: "Under authoritarian repression, when local knowledge excluded, or development imposed from outside",
                model: {
                    IK: "Environmental destruction is human rights and women's issue; trees as symbols of struggle",
                    PRS_t: "Sees connections: deforestation ‚Üí poverty ‚Üí women's labor ‚Üí political oppression",
                    SPTS: ["Kenyan woman", "Kikuyu", "Environmental scientist", "Political activist", "Nobel laureate"],
                    AH: "Colonial Kenya; educated in biology (U.S.); post-independence corruption; imprisonment",
                    BROAPlus: "Indigenous ecological knowledge + Western science; women's labor as ecological work",
                    Cap: "Women have capacity for environmental stewardship and political organizing",
                    Capab: "Community tree-planting as reliable method; linking local action to systemic change",
                    Cons: "Green Belt Movement (30M+ trees planted); movement persisted and expanded",
                    MetaCons: "Movement adapted: trees ‚Üí women's rights ‚Üí democracy ‚Üí peace",
                    Gates: "Challenged: 'Environment = elite/expert domain', 'Women = not political actors'"
                },
                keyInsights: [
                    "Environmental degradation and women's oppression are connected",
                    "Local ecological action can be powerful political organizing",
                    "Indigenous knowledge and Western science can complement"
                ],
                limitations: [
                    "Movement faced government repression; scaling required support",
                    "Gender-based organizing can essentialize 'women's roles'",
                    "Tension between local autonomy and coordination"
                ],
                whatRevealed: "Environmental ethics from African women's standpoint",
                whatExcluded: "Western 'wilderness preservation' that excluded people living in nature",
                toulminArguments: [
                    {
                        id: "environmental-justice",
                        claim: "Environmental degradation is fundamentally a women's rights and democracy issue, not just conservation",
                        grounds: [
                            "Deforestation in Kenya directly increases women's labor burden (water, fuel collection)",
                            "Environmental decisions made without women's participation despite their knowledge",
                            "Government suppression of tree-planting linked to broader authoritarian control",
                            "Communities with environmental sustainability have stronger democratic participation"
                        ],
                        warrant: "IF environmental degradation disproportionately harms women AND women are excluded from environmental decisions AND environmental movements challenge authoritarian power, THEN environmental justice = women's rights + democracy + ecology integrated",
                        warrantType: "Intersectional analysis - connecting environment, gender, and power",
                        backing: [
                            "Green Belt Movement outcomes: 30M+ trees planted by women's groups",
                            "Empirical link between environmental restoration and community empowerment",
                            "Indigenous/local ecological knowledge effectiveness",
                            "Personal experience of imprisonment for environmental activism"
                        ],
                        qualifier: "High confidence from lived experience and movement outcomes; qualified by scaling challenges",
                        qualifierStrength: 0.88,
                        rebuttals: [
                            "IF women's environmental roles essentialize gender",
                            "IF local knowledge insufficient for complex ecological problems",
                            "IF democratic participation impractical at scale",
                            "IF economic development requires environmental trade-offs"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Connections visible from African women's standpoint: deforestation ‚Üí poverty ‚Üí women's labor ‚Üí political oppression",
                            warrantFrom: "Capab - Community tree-planting as reliable method linking local action to systemic change",
                            backingFrom: "Cons - Green Belt Movement persisted and expanded; institutional model replicable",
                            rebuttalsFrom: "Gates challenged - 'Environment = elite/expert domain' and 'Women = not political actors' both excluded local women's environmental knowledge"
                        }
                    }
                ]
            },

            mandela: {
                name: "Nelson Mandela",
                era: "Contemporary (1918-2013)",
                region: "South Africa/Africa",
                image: "üïäÔ∏è",
                coherenceRequirements: {
                    BRC: { required: true, level: "very-high", note: "Reconciliation requires extraordinary emotional regulation - avoiding revenge" },
                    KIC: { required: true, level: "high", note: "Ubuntu: identity constituted through relationships, not isolated" },
                    CIC: { required: true, level: "moderate", note: "Truth-telling requires cognitive capacity but grounded in Ubuntu" },
                    ISC: { required: true, level: "very-high", note: "TRC required institutional framework for restorative justice" },
                    TNC: { required: true, level: "very-high", note: "Nation-building is multi-generational; healing takes time" }
                },
                whenWorks: "When institutional support for truth-telling exists, communities ready for healing, Ubuntu recognized",
                whenFails: "When punitive justice demanded, material reparations blocked, or quick closure forced",
                model: {
                    IK: "Ubuntu - 'I am because we are'; justice as restoration not retribution; dignity of all",
                    PRS_t: "Sees possibility of reconciliation where others see only revenge; transformation over punishment",
                    SPTS: ["Black South African", "Xhosa", "Lawyer", "Political prisoner (27 years)", "President"],
                    AH: "Apartheid oppression; armed resistance; Robben Island; negotiated transition; led democracy",
                    BROAPlus: "Ubuntu philosophy + Western jurisprudence + Gandhian non-violence; relational ontology",
                    Cap: "Even oppressors have capacity for transformation; communities can heal",
                    Capab: "Truth and Reconciliation process as method; constitutional democracy with protections",
                    Cons: "TRC as institution (truth ‚Üí acknowledgment ‚Üí amnesty); constitution with Bill of Rights",
                    MetaCons: "TRC itself was meta-constructor - reviewing past to build future; constitution for adaptation",
                    Gates: "Challenged: 'Justice = punishment'; included perpetrators as humans capable of change"
                },
                keyInsights: [
                    "Justice can be restorative - healing communities, not just punishing individuals",
                    "Ubuntu relational ontology - we are constituted by relationships",
                    "Former enemies can become fellow citizens through truth-telling"
                ],
                limitations: [
                    "TRC criticized for insufficient material reparations",
                    "Some victims felt betrayed by amnesty process",
                    "Economic apartheid persisted"
                ],
                whatRevealed: "Alternative justice model from African philosophy; dignity-based approach",
                whatExcluded: "Western punitive justice models; individualist ontology",
                toulminArguments: [
                    {
                        id: "ubuntu-reconciliation",
                        claim: "Reconciliation requires truth-telling and restoration of dignity, not retribution",
                        grounds: [
                            "Post-apartheid South Africa faced choice: revenge or nation-building",
                            "Ubuntu philosophy: 'A person is a person through other persons' - relational ontology",
                            "Perpetrators are also victims of dehumanizing system",
                            "Sustainable peace requires addressing trauma and restoring relationships"
                        ],
                        warrant: "IF persons are constituted by relationships (Ubuntu) AND systems dehumanize both oppressed and oppressor, AND nation-building requires healing not revenge, THEN justice = truth + acknowledgment + restoration of dignity for all",
                        warrantType: "Ubuntu relational ontology + pragmatic nation-building",
                        backing: [
                            "Truth and Reconciliation Commission as institutional model",
                            "South African Constitution protecting dignity and rights",
                            "Comparative success: avoided civil war, built democracy",
                            "Ubuntu philosophy as indigenous African ethical framework"
                        ],
                        qualifier: "Confidence qualified by incomplete economic justice and victim dissatisfaction",
                        qualifierStrength: 0.78,
                        rebuttals: [
                            "IF justice requires punishment, not just truth-telling",
                            "IF material reparations are necessary, not just recognition",
                            "IF perpetrators exploit amnesty without genuine transformation",
                            "IF victims feel betrayed by reconciliation without redistribution"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Possibility of reconciliation visible from Ubuntu framework where others see only revenge",
                            warrantFrom: "Capab - TRC process as reliable method; constitutional democracy with protections",
                            backingFrom: "Cons - TRC as institution; constitution designed for adaptation",
                            rebuttalsFrom: "MetaCons - TRC itself was meta-constructor reviewing past to build future, but economic apartheid persisted"
                        }
                    }
                ]
            },

            simpson: {
                name: "Leanne Betasamosake Simpson",
                era: "Contemporary (1971-present)",
                region: "Michi Saagiig Nishnaabeg/Canada",
                image: "üå≤",
                coherenceRequirements: {
                    BRC: { required: true, level: "moderate", note: "Land-based practices support emotional regulation" },
                    KIC: { required: true, level: "very-high", note: "Nishnaabeg identity tethered to land and practice" },
                    CIC: { required: true, level: "moderate", note: "Knowledge is embodied and seasonal, not purely cognitive" },
                    ISC: { required: true, level: "very-high", note: "Requires land access, language transmission, community" },
                    TNC: { required: true, level: "very-high", note: "Knowledge transmission across generations; resurgence is ongoing" }
                },
                whenWorks: "When land access secured, Indigenous governance respected, intergenerational transmission possible",
                whenFails: "Under colonial dispossession, forced urbanization, language loss, or appropriation",
                model: {
                    IK: "Knowledge lives in land-tethered practice; resurgence not reconciliation; Nishnaabeg intelligence",
                    PRS_t: "Sees knowledge as seasonal, relational, place-based; land as pedagogy; practice as theory",
                    SPTS: ["Michi Saagiig Nishnaabeg woman", "Scholar", "Artist", "Land defender", "Mother"],
                    AH: "Generations of colonial disruption; cultural resurgence movements; language revitalization",
                    BROAPlus: "Nishnaabeg cosmology + critical theory; Indigenous governance; storytelling as methodology",
                    Cap: "Indigenous practices carry sophisticated epistemological, political, and ethical systems",
                    Capab: "Land-based education; seasonal rounds; ceremony; storytelling; language as worldview",
                    Cons: "Community-based learning; intergenerational knowledge transmission; place-based practices",
                    MetaCons: "Resurgence as continuous practice - not endpoint but process; adaptation while maintaining core",
                    Gates: "Challenged: 'Knowledge = text in universities'; 'Valid = universal & abstract'"
                },
                keyInsights: [
                    "Knowledge can be particular to place yet rigorous",
                    "Reconciliation without land return is empty; resurgence requires material transformation",
                    "Practice-based knowledge systems are sophisticated"
                ],
                limitations: [
                    "Requires access to land and community - colonial dispossession creates barriers",
                    "Challenge of transmitting land-based knowledge in urban settings",
                    "Risk of appropriation when sharing Indigenous knowledge"
                ],
                whatRevealed: "Non-textual, place-based epistemologies; critique of reconciliation discourse",
                whatExcluded: "Western assumption that valid knowledge must be abstract, universal, text-based",
                toulminArguments: [
                    {
                        id: "land-as-pedagogy",
                        claim: "Valid knowledge can be place-based, seasonal, and relational - not requiring text or universality",
                        grounds: [
                            "Nishnaabeg knowledge transmitted through land-based practice for millennia",
                            "Seasonal rounds encode sophisticated ecological and ethical knowledge",
                            "Language carries worldview - concepts untranslatable to colonial languages",
                            "Western 'reconciliation' demands Indigenous knowledge fit colonial institutions"
                        ],
                        warrant: "IF knowledge can be encoded in practice/place/language (not just text), AND Nishnaabeg systems sustained communities for millennia, AND universality requirement is colonial imposition, THEN valid knowledge = land-tethered, seasonal, relational intelligence",
                        warrantType: "Indigenous epistemology + decolonial critique",
                        backing: [
                            "Intergenerational transmission proving reliability of land-based pedagogy",
                            "Nishnaabeg language and storytelling as sophisticated knowledge systems",
                            "Resurgence movements demonstrating continued vitality",
                            "Critique showing 'universal abstract knowledge' as particular Western episteme"
                        ],
                        qualifier: "Certainty within Nishnaabeg framework; challenge to colonial epistemology",
                        qualifierStrength: 0.92,
                        rebuttals: [
                            "IF land-based knowledge can't address global/urban challenges",
                            "IF particularity prevents cross-cultural dialogue",
                            "IF colonial dispossession makes land-access impossible",
                            "IF knowledge requires textual fixity for transmission"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Knowledge as seasonal, relational, place-based visible from Indigenous standpoint",
                            warrantFrom: "Capab - Land-based education, seasonal rounds, ceremony as reliable methods",
                            backingFrom: "Cons - Community-based learning, intergenerational transmission as persistent practices",
                            rebuttalsFrom: "Gates challenged - 'Knowledge = text' and 'Valid = universal/abstract' both colonial impositions; MetaCons = resurgence as ongoing adaptation"
                        }
                    }
                ]
            },

            collins: {
                name: "Patricia Hill Collins",
                era: "Contemporary (1948-present)",
                region: "United States",
                image: "üìö",
                coherenceRequirements: {
                    BRC: { required: true, level: "moderate", note: "Standpoint epistemology requires emotional resilience under marginalization" },
                    KIC: { required: true, level: "high", note: "Outsider-within status requires integrated identity across contexts" },
                    CIC: { required: true, level: "high", note: "Intersectional analysis requires high cognitive capacity" },
                    ISC: { required: true, level: "high", note: "Requires institutional space for Black feminist thought" },
                    TNC: { required: true, level: "moderate", note: "Black feminist tradition across generations" }
                },
                whenWorks: "When marginalized standpoints valued, intersectionality recognized, institutional space exists",
                whenFails: "When 'objectivity' means detachment from lived experience, or standpoint essentialized",
                model: {
                    IK: "Intersectionality reveals matrix of domination; lived experience is legitimate knowledge",
                    PRS_t: "Sees how race, gender, class interact - not additive but multiplicative; standpoint shapes knowledge",
                    SPTS: ["Black American woman", "Sociologist", "Working-class background", "Academic"],
                    AH: "Philadelphia working-class Black community; education through segregation and integration; outsider-within",
                    BROAPlus: "Black feminist standpoint epistemology: concrete experience + dialogue + ethics of care + accountability",
                    Cap: "Black women have distinctive standpoint revealing truths invisible from other positions",
                    Capab: "Standpoint methodology; intersectional analysis; validating multiple forms of evidence",
                    Cons: "Black feminist thought as intellectual tradition; institutional presence in academy",
                    MetaCons: "Intersectionality adapted to analyze multiple axes; outsider-within as ongoing reflective position",
                    Gates: "Challenged: 'Scholarly = only abstract/textual'; 'Objective = emotionally detached'"
                },
                keyInsights: [
                    "Standpoint matters - what you can see depends on where you stand in systems of power",
                    "Intersectionality - race, gender, class create unique positions, not just combinations",
                    "Concrete experience, dialogue, care, and accountability are valid evidence bases"
                ],
                limitations: [
                    "Standpoint can become essentialized - not all Black women see same things",
                    "Tension between claiming distinctive standpoint and avoiding essentialism",
                    "Institutional inclusion brings risk of cooptation"
                ],
                whatRevealed: "Matrix of domination; intersectional analysis; lived experience as legitimate knowledge",
                whatExcluded: "Traditional epistemology's rejection of situated knowledge and lived experience",
                toulminArguments: [
                    {
                        id: "standpoint-epistemology",
                        claim: "Marginalized standpoints can generate distinctive and important knowledge about social reality",
                        grounds: [
                            "Black women's position at intersection of race/gender/class makes certain patterns visible",
                            "'Outsider-within' status in academy provides dual perspective",
                            "Dominant groups' standpoints tend to be unmarked as 'just how things are'",
                            "Matrix of domination invisible from positions of relative privilege"
                        ],
                        warrant: "IF what you can see depends on where you stand in power structures, AND marginalized positions make oppression visible, AND dominant epistemology excludes situated knowledge, THEN Black feminist standpoint reveals truths about domination invisible from privileged positions",
                        warrantType: "Standpoint epistemology + intersectional analysis",
                        backing: [
                            "Black feminist thought as intellectual tradition validating this approach",
                            "Concrete experience + dialogue + ethics of care + accountability as evidence criteria",
                            "Intersectionality framework adopted across disciplines",
                            "Empirical: predictions from standpoint epistemology confirmed"
                        ],
                        qualifier: "Strong confidence qualified by risk of essentializing standpoints",
                        qualifierStrength: 0.87,
                        rebuttals: [
                            "IF standpoint essentializes - not all Black women see/experience same things",
                            "IF situated knowledge is 'merely subjective' vs. objective",
                            "IF any standpoint works, collapsing to relativism",
                            "IF institutional inclusion co-opts radical critique"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Matrix of domination, intersectional patterns visible from Black women's standpoint",
                            warrantFrom: "Capab - Standpoint methodology, intersectional analysis as reliable approaches",
                            backingFrom: "Cons - Black feminist intellectual tradition, institutional presence in academy",
                            rebuttalsFrom: "MetaCons - Intersectionality adapted across axes; outsider-within as ongoing position addresses some rebuttal risks; Gates challenged = 'Scholarly must be abstract/detached'"
                        }
                    }
                ]
            },

            augustine: {
                name: "Augustine of Hippo",
                era: "Late Antiquity (354-430 CE)",
                region: "North Africa/Western Christianity",
                image: "‚õ™",
                coherenceRequirements: {
                    BRC: { required: true, level: "moderate", note: "Grace provides emotional regulation for divided will" },
                    KIC: { required: true, level: "high", note: "Conversion integrates fragmented self through God-orientation" },
                    CIC: { required: true, level: "high", note: "Theological reasoning requires cognitive capacity" },
                    ISC: { required: true, level: "very-high", note: "Requires church, sacraments, Christian community" },
                    TNC: { required: true, level: "very-high", note: "Earthly city vs. heavenly city - eschatological timeline" }
                },
                whenWorks: "Within Christian community with sacramental support and theological education",
                whenFails: "For non-Christians, or when grace-dependence becomes quietism or justifies oppression",
                model: {
                    IK: "Love God above all; original sin corrupts human will; grace enables virtue; earthly vs. heavenly city",
                    PRS_t: "Sees humans as fundamentally fallen, unable to achieve virtue without divine grace; inner struggle of will",
                    SPTS: ["North African", "Christian bishop", "Former Manichaean", "Roman intellectual elite", "Male religious authority"],
                    AH: "Carthage education; youthful hedonism; Manichaean phase; dramatic conversion; bishop during Roman decline",
                    BROAPlus: "Christian revelation + Neoplatonism + Roman law; faith seeking understanding; will oriented by love",
                    Cap: "Humans have capacity for God-love (caritas) but need grace to actualize it",
                    Capab: "Confessional introspection; theological argumentation; institutional church authority",
                    Cons: "Christian theology as systematic doctrine; monastic communities; ecclesiastical hierarchy",
                    MetaCons: "Limited - church councils review doctrine but presume Christian framework; no mechanism to question basic SPTS",
                    Gates: "Valid knowledge requires Christian faith; pagan/heretical knowledge excluded; women subordinate in order of creation"
                },
                keyInsights: [
                    "Profound analysis of human will, desire, and internal conflict",
                    "Ethics cannot be separated from theology and grace",
                    "Historical consciousness - earthly institutions are provisional, not ultimate"
                ],
                limitations: [
                    "Requires Christian metaphysics - excludes non-Christians from moral standing",
                    "Original sin doctrine can be used to justify inequality and suffering",
                    "Women seen as subordinate, associated with temptation and flesh"
                ],
                whatRevealed: "Inner psychology of moral struggle; role of desire and will in ethics; provisional nature of earthly justice",
                whatExcluded: "Non-Christian ethical frameworks; women's theological authority; naturalistic accounts of morality",
                toulminArguments: [
                    {
                        id: "grace-necessity",
                        claim: "Virtue is impossible without divine grace; human will alone cannot achieve it",
                        grounds: [
                            "Humans consistently fail to live virtuously despite best intentions",
                            "Inner experience reveals will divided against itself",
                            "Original sin corrupted human nature at its root",
                            "Even 'virtuous' pagans lacked proper orientation (love of God)"
                        ],
                        warrant: "IF human nature is fundamentally corrupted by original sin, AND virtue requires proper orientation of will toward God, THEN divine grace is necessary to heal will and enable virtue",
                        warrantType: "Theological necessity - from doctrine of fall to need for redemption",
                        backing: [
                            "Scripture (Paul's Romans: 'I do not do what I want, but I do the very thing I hate')",
                            "Church tradition and theology of original sin",
                            "Augustine's own conversion experience demonstrating will's impotence",
                            "Systematic theology: sin as misdirected love that only grace can reorient"
                        ],
                        qualifier: "Certain within Christian theological framework; lived conviction",
                        qualifierStrength: 0.98,
                        rebuttals: [
                            "IF naturalistic account of human moral capacity works without theology",
                            "IF non-Christians demonstrate genuine virtue",
                            "IF original sin doctrine is rejected or reinterpreted",
                            "IF human will has more autonomy than Augustine grants"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Inner conflict of will visible through introspection; patterns of moral failure",
                            warrantFrom: "Capab - Confessional introspection, theological argumentation as reliable methods",
                            backingFrom: "Cons - Christian theology as systematic doctrine, church councils, monastic communities",
                            rebuttalsFrom: "Gates - Valid knowledge requires Christian faith; excludes non-Christian moral frameworks"
                        }
                    }
                ]
            },

            hume: {
                name: "David Hume",
                era: "Scottish Enlightenment (1711-1776)",
                region: "Scotland/Britain",
                image: "üé≠",
                coherenceRequirements: {
                    BRC: { required: true, level: "high", note: "Sentiment and sympathy are emotional capacities" },
                    KIC: { required: true, level: "moderate", note: "Moral sentiments must be relatively stable" },
                    CIC: { required: true, level: "high", note: "Empirical observation and analysis require cognitive capacity" },
                    ISC: { required: true, level: "moderate", note: "Custom and convention require social stability" },
                    TNC: { required: true, level: "low", note: "Present sentiment most important; less temporal extension" }
                },
                whenWorks: "When sympathy can extend, customs stable, and emotional responses relatively consistent",
                whenFails: "When sympathy blocked by distance/difference, or sentiment becomes purely subjective",
                model: {
                    IK: "Morality grounded in sentiment (feeling) not reason alone; sympathy as moral basis; is/ought distinction",
                    PRS_t: "Sees moral judgments as expressions of feeling approved by spectator sympathy; reason is 'slave of passions'",
                    SPTS: ["Scottish intellectual", "Enlightenment philosopher", "Male", "Educated elite", "Skeptic"],
                    AH: "Scottish Enlightenment culture; rejected religious orthodoxy; historian and essayist; cosmopolitan outlook",
                    BROAPlus: "Empiricism (all knowledge from experience); sentiment as universal human capacity; custom and habit shape belief",
                    Cap: "All humans have capacity for sympathy - feeling others' pleasure/pain",
                    Capab: "Analysis of moral sentiment; historical and cultural comparison; skeptical inquiry",
                    Cons: "Empiricist methodology; essay and treatise form; secular moral philosophy",
                    MetaCons: "Historical and cultural comparison allows reflection on moral customs; but assumes sympathy is universal",
                    Gates: "Universal human nature assumed; sympathy of educated male spectator as standard; women/non-Europeans as different"
                },
                keyInsights: [
                    "Moral judgments cannot be derived from facts alone (is/ought gap)",
                    "Sympathy and sentiment, not pure reason, ground ethics",
                    "Customs and conventions shape moral perception"
                ],
                limitations: [
                    "Assumes universal human nature from European male perspective",
                    "Sympathy operates through similarity - can exclude distant others",
                    "Conservative implications: existing customs gain legitimacy"
                ],
                whatRevealed: "Role of emotion and sentiment in ethics; limits of pure reason; importance of custom",
                whatExcluded: "Systematic oppression invisible if sympathy doesn't extend there; structural injustice vs. sentiment",
                toulminArguments: [
                    {
                        id: "sentiment-foundation",
                        claim: "Morality is grounded in sentiment and sympathy, not reason alone",
                        grounds: [
                            "Moral distinctions influence actions and produce feelings",
                            "Reason alone is inert - can't motivate action",
                            "We approve/disapprove based on how things make us feel",
                            "Cannot derive 'ought' from 'is' - pure reason can't generate moral conclusions"
                        ],
                        warrant: "IF moral judgments motivate action, AND reason alone cannot motivate, AND we observe sentiment producing moral approval/disapproval, THEN morality must be grounded in sentiment not reason",
                        warrantType: "Empirical observation + conceptual analysis of motivation",
                        backing: [
                            "Empirical study of human psychology and moral reactions",
                            "Analysis of moral language showing emotive character",
                            "Observation that moral disputes aren't resolved by pure logic",
                            "Universal human capacity for sympathy as natural foundation"
                        ],
                        qualifier: "High confidence based on observation; qualified by assumption of universal human nature",
                        qualifierStrength: 0.88,
                        rebuttals: [
                            "IF reason can motivate action (rationalist response)",
                            "IF moral judgments are cognitive, not merely emotive",
                            "IF sympathy is not actually universal or operates differently across cultures",
                            "IF sentiment-based morality is too subjective/relativistic"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through empirical observation of human moral reactions",
                            warrantFrom: "Capab - Empiricist methodology, sentiment analysis as reliable methods",
                            backingFrom: "Cons - Empiricist tradition, essay form, secular moral philosophy as persistent practice",
                            rebuttalsFrom: "Gates - Universal human nature assumed from European male perspective; sympathy may not extend equally"
                        }
                    }
                ]
            },

            kant: {
                name: "Immanuel Kant",
                era: "German Enlightenment (1724-1804)",
                region: "Prussia/Germany",
                image: "üìè",
                coherenceRequirements: {
                    BRC: { required: true, level: "low", note: "Duty should overcome inclination, but requires baseline regulation" },
                    KIC: { required: true, level: "high", note: "Rational autonomy requires stable self-legislating identity" },
                    CIC: { required: true, level: "very-high", note: "Categorical imperative requires extreme cognitive capacity" },
                    ISC: { required: true, level: "moderate", note: "Education and social conditions for developing rationality" },
                    TNC: { required: true, level: "moderate", note: "Moral law is timeless but requires temporal consistency" }
                },
                whenWorks: "When high cognitive capacity, education, and conditions for rational deliberation present",
                whenFails: "Under cognitive overload, stress, or when formal universality ignores material conditions",
                model: {
                    IK: "Act only on maxims you can will as universal law; treat humanity as end never merely as means; rational autonomy is dignity",
                    PRS_t: "Sees morality as universal rational principles, not contingent desires; duty from reason, not feeling",
                    SPTS: ["Prussian intellectual", "Enlightenment philosopher", "Protestant", "Male", "Never left K√∂nigsberg", "Academic"],
                    AH: "Rigorous Pietist upbringing; lifelong academic; Age of Enlightenment; influenced by Newton and Rousseau",
                    BROAPlus: "Reason as universal and autonomous; transcendental idealism; categorical imperative as formal procedure",
                    Cap: "All rational beings have capacity for moral law through reason - basis of dignity",
                    Capab: "Systematic critical philosophy; categorical imperative as decision procedure; universalizability test",
                    Cons: "Critical philosophy method; deontological ethics; academic philosophy as rigorous discipline",
                    MetaCons: "Reason itself is self-correcting through critique; but assumes universal rational structure",
                    Gates: "Full rationality = adult, male, educated Europeans; women, children, 'savages' seen as less rational"
                },
                keyInsights: [
                    "Universal moral law grounded in reason, not authority or desire",
                    "Human dignity lies in rational autonomy - capacity for self-legislation",
                    "Morality requires treating persons as ends, never merely as means"
                ],
                limitations: [
                    "Rational autonomy defined from Enlightenment European male perspective",
                    "Formal universality can abstract from material conditions and power",
                    "Racist and sexist views on who counts as 'fully rational'"
                ],
                whatRevealed: "Dignity of rational autonomy; importance of universal moral principles; respect for persons",
                whatExcluded: "Emotion, care, particular relationships; material conditions; perspectives of those deemed 'less rational'",
                toulminArguments: [
                    {
                        id: "categorical-imperative",
                        claim: "We should act only on maxims we can will as universal law",
                        grounds: [
                            "Moral action must be based on principle, not inclination",
                            "Universal moral law requires rational foundation independent of contingent desires",
                            "Hypothetical imperatives (if you want X, do Y) are not truly moral - just prudential",
                            "Dignity requires capacity for autonomous self-legislation"
                        ],
                        warrant: "IF morality must be universal and necessary (not contingent), AND only rational principles can ground universality, AND rational beings can legislate for themselves, THEN moral action follows categorical imperative: act only on universalizable maxims",
                        warrantType: "Transcendental argument - conditions for possibility of morality",
                        backing: [
                            "Transcendental deduction showing reason's self-legislation",
                            "Analysis of moral concepts revealing rational structure",
                            "Critique demonstrating limits of empirical approaches to ethics",
                            "Formula of humanity: respect for rational nature as end in itself"
                        ],
                        qualifier: "Apodictic certainty for pure practical reason; necessary for rational beings",
                        qualifierStrength: 0.99,
                        rebuttals: [
                            "IF persons are fundamentally relational, not autonomous (communitarian critique)",
                            "IF moral particularism is true - no universal principles work",
                            "IF emotion/care is essential to morality, not peripheral",
                            "IF 'rational autonomy' is culturally specific, not universal"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through transcendental analysis of moral concepts",
                            warrantFrom: "Capab - Critical philosophy, categorical imperative as decision procedure",
                            backingFrom: "Cons - Critical method, deontological ethics, academic philosophy as rigorous discipline",
                            rebuttalsFrom: "Gates - 'Full rationality = educated European males'; excludes those deemed less rational or more embodied/emotional"
                        }
                    }
                ]
            },

            bentham: {
                name: "Jeremy Bentham",
                era: "British Enlightenment (1748-1832)",
                region: "England/Britain",
                image: "‚öñÔ∏è",
                coherenceRequirements: {
                    BRC: { required: true, level: "low", note: "Pleasure/pain are basic; but calculation requires regulation" },
                    KIC: { required: true, level: "low", note: "Individual preferences primary; less identity integration needed" },
                    CIC: { required: true, level: "very-high", note: "Felicific calculus requires intense cognitive capacity" },
                    ISC: { required: true, level: "high", note: "Institutional reform requires political/legal structures" },
                    TNC: { required: true, level: "moderate", note: "Consequences require temporal projection" }
                },
                whenWorks: "When outcomes measurable, preferences clear, and institutions enable utilitarian calculation",
                whenFails: "When pleasures incommensurable, rights violated for aggregate good, or individuals sacrificed",
                model: {
                    IK: "Greatest happiness for greatest number; pleasure/pain as sovereign masters; all to count for one, none for more",
                    PRS_t: "Sees morality as maximizing utility (pleasure minus pain); quantifiable, calculable; reforming unjust laws",
                    SPTS: ["English reformer", "Utilitarian", "Male", "Legal theorist", "Bourgeois intellectual", "Radical progressive"],
                    AH: "Industrial Revolution England; legal and prison reform movements; critique of aristocratic privilege; democratic sympathies",
                    BROAPlus: "Empiricism + quantification; legal positivism; egalitarian individualism (all pleasures equal)",
                    Cap: "All sentient beings have capacity for pleasure/pain - extends to animals",
                    Capab: "Felicific calculus (measuring pleasure/pain); legislative reform; systematic legal codification",
                    Cons: "Utilitarian ethics; democratic reform movements; rational legal systems",
                    MetaCons: "Calculus itself is meta-constructor - systematic procedure for evaluating outcomes and revising policy",
                    Gates: "Measurable, quantifiable outcomes privileged; individual pleasures aggregated (structural concerns less visible)"
                },
                keyInsights: [
                    "Egalitarian: all pleasures count equally regardless of social status",
                    "Extended moral consideration to animals (capacity for suffering)",
                    "Systematic social reform through rational calculation"
                ],
                limitations: [
                    "Aggregation can sacrifice minorities for majority benefit",
                    "Assumes pleasures are commensurable and quantifiable",
                    "Individual focus can miss structural and relational features of justice"
                ],
                whatRevealed: "Egalitarian extension of moral concern; importance of consequences; systematic approach to reform",
                whatExcluded: "Rights as independent constraints; incommensurable values; special obligations and relationships",
                toulminArguments: [
                    {
                        id: "utility-principle",
                        claim: "Actions are right in proportion as they tend to promote happiness (pleasure), wrong as they produce unhappiness (pain)",
                        grounds: [
                            "Nature has placed mankind under two sovereign masters: pleasure and pain",
                            "All human action is motivated by pursuit of pleasure and avoidance of pain",
                            "This is observable fact about human (and animal) nature",
                            "Moral and legal systems that ignore this fail"
                        ],
                        warrant: "IF pleasure/pain govern all human action, AND morality guides action toward good outcomes, AND good = happiness, THEN right action = maximizing total happiness (pleasure minus pain)",
                        warrantType: "Empirical observation + definitional - from facts about motivation to moral principle",
                        backing: [
                            "Empirical psychology showing pleasure/pain as motivators",
                            "Felicific calculus providing systematic measurement method",
                            "Success of utilitarian legal reforms in practice",
                            "Egalitarian principle: each to count for one, none for more than one"
                        ],
                        qualifier: "High confidence based on empirical observation; qualified by measurement challenges",
                        qualifierStrength: 0.87,
                        rebuttals: [
                            "IF pleasures are incommensurable (can't all be measured on same scale)",
                            "IF rights constrain utility maximization (deontological objection)",
                            "IF aggregation sacrifices individuals unjustly (separateness of persons)",
                            "IF some goods aren't reducible to pleasure (intrinsic values)"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through empirical observation of human motivation and social outcomes",
                            warrantFrom: "Capab - Felicific calculus as reliable measurement method, legislative reform procedures",
                            backingFrom: "Cons - Utilitarian tradition, reform movements, rational legal systems persist",
                            rebuttalsFrom: "Gates - Measurable/quantifiable outcomes privileged; structural/relational justice less visible"
                        }
                    }
                ]
            },

            nussbaum: {
                name: "Martha Nussbaum",
                era: "Contemporary (1947-present)",
                region: "United States",
                image: "üåç",
                coherenceRequirements: {
                    BRC: { required: true, level: "moderate", note: "Capabilities include emotional and bodily integrity" },
                    KIC: { required: true, level: "moderate", note: "Identity integrated but allows multiple capabilities" },
                    CIC: { required: true, level: "high", note: "Interdisciplinary synthesis requires cognitive capacity" },
                    ISC: { required: true, level: "very-high", note: "Capabilities require institutional and social support" },
                    TNC: { required: true, level: "moderate", note: "Development across lifespan but thresholds immediate" }
                },
                whenWorks: "When institutional support exists, capabilities recognized, and material conditions enable flourishing",
                whenFails: "When capability list becomes parochial, or liberal framework inadequate for structural change",
                model: {
                    IK: "Human capabilities (what people can do/be) are basis of justice; dignity requires threshold of capability; species-specific flourishing",
                    PRS_t: "Sees justice as ensuring capability thresholds for all humans; connections between development, gender, and philosophy",
                    SPTS: ["American philosopher", "Female academic", "Cosmopolitan", "Development ethics scholar", "Classical scholar"],
                    AH: "Classical education; work with development economists (Sen); engagement with India and global poverty; feminist philosophy",
                    BROAPlus: "Aristotelian virtue ethics + liberal rights + development economics + feminist critique; capabilities as freedoms",
                    Cap: "All humans have latent capabilities that require social support to develop",
                    Capab: "Capabilities approach; interdisciplinary synthesis; policy application of philosophy",
                    Cons: "Capabilities framework used by UN and development agencies; feminist philosophy institutionalized",
                    MetaCons: "List of central capabilities is open to revision through democratic deliberation and cross-cultural dialogue",
                    Gates: "Includes emotions, animals, and bodily needs as philosophically serious; challenges pure rationalism"
                },
                keyInsights: [
                    "Bridges ancient ethics (Aristotle) with contemporary concerns (development, gender)",
                    "Capabilities as basis for justice - what people can do, not just what they have",
                    "Emotions, vulnerability, and bodily needs are central to ethics, not peripheral"
                ],
                limitations: [
                    "Western philosophical training shapes framework despite global engagement",
                    "Capabilities list risks being parochial even with revision mechanisms",
                    "Tensions between universal standards and cultural particularity"
                ],
                whatRevealed: "Importance of material conditions and social support for flourishing; connections between gender, development, and philosophy",
                whatExcluded: "More radical critiques of liberal framework; deeper engagement with non-Western philosophical traditions",
                toulminArguments: [
                    {
                        id: "capabilities-approach",
                        claim: "Justice requires ensuring all persons have threshold capabilities - real freedoms to do and be what they have reason to value",
                        grounds: [
                            "People's actual functionings (doings/beings) depend on capabilities, not just resources",
                            "Same resources yield different capabilities depending on context (disability, gender, location)",
                            "Utilitarian aggregation can sacrifice individuals; welfare measures miss freedom dimension",
                            "Empirical work on development shows capability deprivation is widespread"
                        ],
                        warrant: "IF justice concerns what people can actually do/be (not just utility or resources), AND capabilities vary based on context/power, AND each person's capability matters (not just aggregate), THEN justice = ensuring threshold capabilities for all",
                        warrantType: "Normative + empirical - from development data and dignity conception",
                        backing: [
                            "Amartya Sen's capability approach + development economics",
                            "Aristotelian account of human flourishing adapted for modern pluralism",
                            "Feminist critique of abstract individualism and resource-based theories",
                            "Cross-cultural dialogue on central human capabilities"
                        ],
                        qualifier: "High confidence qualified by challenges of cultural specificity in capability list",
                        qualifierStrength: 0.86,
                        rebuttals: [
                            "IF capability list is parochially Western despite revision mechanisms",
                            "IF capabilities conflict with cultural/religious traditions",
                            "IF threshold determination is arbitrary or context-insensitive",
                            "IF liberal framework itself is inadequate for justice"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through interdisciplinary synthesis: development economics, philosophy, gender studies",
                            warrantFrom: "Capab - Capabilities framework, interdisciplinary methodology as reliable approach",
                            backingFrom: "Cons - Framework institutionalized in UN, development agencies; feminist philosophy tradition",
                            rebuttalsFrom: "MetaCons - List revision through democratic deliberation addresses some rebuttals but tensions remain with cultural particularity"
                        }
                    }
                ]
            },

            confucius: {
                name: "Confucius (Kong Fuzi)",
                era: "Ancient China (551-479 BCE)",
                region: "China/East Asia",
                image: "üèÆ",
                coherenceRequirements: {
                    BRC: { required: true, level: "high", note: "Ritual practice supports emotional regulation and cultivation" },
                    KIC: { required: true, level: "very-high", note: "Relational roles must integrate into coherent self" },
                    CIC: { required: true, level: "moderate", note: "Analogical reasoning and ritual knowledge" },
                    ISC: { required: true, level: "very-high", note: "Requires functioning social hierarchy and ritual structures" },
                    TNC: { required: true, level: "very-high", note: "Tradition across generations; learning from classics" }
                },
                whenWorks: "When stable social order, ritual traditions intact, and hierarchical relationships accepted",
                whenFails: "When hierarchy oppresses, traditions lost, or radical change needed",
                model: {
                    IK: "Harmony through ritual propriety (li) and humaneness (ren); virtue as relational role fulfillment; filial piety basis of ethics",
                    PRS_t: "Sees ethics as social harmony through proper relationships and ritual; virtue cultivated through practice and tradition",
                    SPTS: ["Chinese scholar", "Advisor to rulers", "Male", "Teacher", "Preserving ancient wisdom", "Zhou dynasty culture"],
                    AH: "Period of Warring States instability; nostalgia for Zhou order; itinerant teacher; focus on educating gentleman-officials",
                    BROAPlus: "Relational ontology (person constituted by relationships); ritual as embodied wisdom; analogy and example over abstract principle",
                    Cap: "All have capacity for ren (humaneness) developed through relational cultivation",
                    Capab: "Ritual practice; exemplary teaching; analogical reasoning; self-cultivation through study and practice",
                    Cons: "Confucian civil service; ritual and educational traditions; Analects as teaching text",
                    MetaCons: "Adaptation through interpretation of classics; ritual evolves while preserving core; but hierarchy largely unquestioned",
                    Gates: "Patriarchal hierarchy assumed natural; women subordinate; social order tied to cosmic order"
                },
                keyInsights: [
                    "Ethics as relational - we are constituted by our relationships, not isolated individuals",
                    "Virtue cultivated through ritual practice, not just intellectual understanding",
                    "Harmony, not individual rights, as ethical ideal"
                ],
                limitations: [
                    "Rigid hierarchical relationships (ruler-subject, father-son, husband-wife)",
                    "Women systematically subordinated in Five Relationships",
                    "Conservative: past as model can obscure need for structural change"
                ],
                whatRevealed: "Relational nature of personhood; importance of ritual and practice; social harmony as ethical goal",
                whatExcluded: "Individual autonomy and rights; gender equality; critique of hierarchy as natural order",
                toulminArguments: [
                    {
                        id: "ritual-harmony",
                        claim: "Social harmony and ethical life require proper performance of ritual (li) in accordance with relational roles",
                        grounds: [
                            "Society is network of hierarchical relationships (Five Relationships)",
                            "Chaos and disorder result when roles are not properly fulfilled",
                            "Observation: harmonious periods marked by proper ritual; disorder by ritual breakdown",
                            "Human nature is cultivated through relational practice, not fixed individually"
                        ],
                        warrant: "IF persons are constituted by relationships (not autonomous individuals), AND social harmony requires coordination, AND ritual encodes proper role-performance, THEN ethical life = performing ritual propriety according to one's relational position",
                        warrantType: "Relational ontology + historical observation + ritual tradition",
                        backing: [
                            "Classics record wisdom of Zhou dynasty's harmonious period",
                            "Exemplary persons (junzi) demonstrate how ritual cultivates virtue",
                            "Analogical reasoning from family harmony to political order",
                            "Centuries of Confucian practice in education and civil service"
                        ],
                        qualifier: "Certainty within Confucian framework; grounded in classical tradition",
                        qualifierStrength: 0.94,
                        rebuttals: [
                            "IF individuals have rights independent of roles (liberal critique)",
                            "IF hierarchies are oppressive rather than natural (feminist/egalitarian critique)",
                            "IF ritual reinforces unjust power structures",
                            "IF harmony suppresses necessary conflict and change"
                        ],
                        connectionToModel: {
                            groundsFrom: "PRS_t - Patterns visible through study of classics, observation of social harmony/disorder",
                            warrantFrom: "Capab - Ritual practice, exemplary teaching, analogical reasoning as reliable methods",
                            backingFrom: "Cons - Confucian education, civil service exams, ritual traditions persist across dynasties",
                            rebuttalsFrom: "Gates - Patriarchal hierarchy assumed natural; women's subordination built into Five Relationships; challenges to hierarchy excluded"
                        }
                    }
                ]
            }
        };

        // Main App Component
        function App() {
            const [studentInfo, setStudentInfo] = useState({ name: '', email: '', course: '' });
            const [hasStarted, setHasStarted] = useState(false);
            const [currentSection, setCurrentSection] = useState('intro');
            const [sessionData, setSessionData] = useState(null);
            const [sectionProgress, setSectionProgress] = useState({});
            const [studentModels, setStudentModels] = useState({});
            const [completedViews, setCompletedViews] = useState(new Set());
            const [comparisonPair, setComparisonPair] = useState([null, null]);

            // Accessibility: Announce section changes
            const [announcement, setAnnouncement] = useState('');

            // Load progress
            useEffect(() => {
                const saved = localStorage.getItem('toulminToolProgress');
                if (saved) {
                    try {
                        const data = JSON.parse(saved);
                        if (data.hasStarted) {
                            setHasStarted(true);
                            setStudentInfo(data.studentInfo || {});
                            setCurrentSection(data.currentSection || 'intro');
                            setSessionData(data.sessionData || null);
                            setSectionProgress(data.sectionProgress || {});
                            setStudentModels(data.studentModels || {});
                            setCompletedViews(new Set(data.completedViews || []));
                        }
                    } catch (e) {
                        console.error('Error loading progress:', e);
                    }
                }
            }, []);

            // Save progress
            useEffect(() => {
                if (hasStarted) {
                    localStorage.setItem('toulminToolProgress', JSON.stringify({
                        hasStarted,
                        studentInfo,
                        currentSection,
                        sessionData,
                        sectionProgress,
                        studentModels,
                        completedViews: Array.from(completedViews)
                    }));
                }
            }, [hasStarted, studentInfo, currentSection, sessionData, sectionProgress, studentModels, completedViews]);

            const startModule = (info) => {
                const session = {
                    sessionId: generateSessionId(),
                    startTime: new Date().toISOString()
                };
                setStudentInfo(info);
                setSessionData(session);
                setHasStarted(true);
                
                const sections = ['intro', 'os1os2', 'coherence', 'notation', 'exemplars', 'comparison', 'metaCase', 'toulminCoherence', 'modeling', 'argumentAnalysis', 'synthesis'];
                const initialProgress = {};
                sections.forEach(section => {
                    initialProgress[section] = {
                        started: section === 'intro',
                        startTime: section === 'intro' ? new Date().toISOString() : null,
                        status: section === 'intro' ? 'in-progress' : 'not-started'
                    };
                });
                setSectionProgress(initialProgress);
                setAnnouncement('Started Ethical Reasoning for the Information Age tool');
            };

            const navigateToSection = (sectionId) => {
                if (sectionProgress[currentSection]?.startTime) {
                    const startTime = new Date(sectionProgress[currentSection].startTime);
                    const now = new Date();
                    const timeSpent = Math.round((now - startTime) / 60000);
                    
                    setSectionProgress(prev => ({
                        ...prev,
                        [currentSection]: {
                            ...prev[currentSection],
                            endTime: now.toISOString(),
                            timeSpent
                        }
                    }));
                }

                if (sectionProgress[sectionId] && !sectionProgress[sectionId].started) {
                    setSectionProgress(prev => ({
                        ...prev,
                        [sectionId]: {
                            ...prev[sectionId],
                            started: true,
                            startTime: new Date().toISOString(),
                            status: 'in-progress'
                        }
                    }));
                }

                setCurrentSection(sectionId);
                const sectionNames = {
                    intro: 'Introduction',
                    os1os2: 'OS1 OS2 Framework',
                    notation: 'FAIM-QIRF Notation',
                    exemplars: 'Philosopher Exemplars',
                    comparison: 'Comparative Analysis',
                    modeling: 'Student Modeling',
                    argumentAnalysis: 'Argument Analysis',
                    synthesis: 'Synthesis and Completion'
                };
                setAnnouncement(`Navigated to ${sectionNames[sectionId]}`);
            };

            const completeSection = (sectionId) => {
                setSectionProgress(prev => ({
                    ...prev,
                    [sectionId]: {
                        ...prev[sectionId],
                        status: 'proficient'
                    }
                }));
            };

            const calculateProgress = () => {
                const sections = Object.keys(sectionProgress);
                if (sections.length === 0) return 0;
                const completed = sections.filter(s => 
                    ['proficient', 'mastered'].includes(sectionProgress[s]?.status)
                ).length;
                return Math.round((completed / sections.length) * 100);
            };

            if (!hasStarted) {
                return <WelcomeScreen onStart={startModule} />;
            }

            const sections = [
                { id: 'intro', label: 'Introduction', icon: 'üéØ' },
                { id: 'os1os2', label: 'OS1/OS2 Framework', icon: 'üß†' },
                { id: 'coherence', label: 'Coherence Dimensions', icon: 'üîó' },
                { id: 'notation', label: 'FAIM-QIRF Notation', icon: 'üìê' },
                { id: 'exemplars', label: 'Philosopher Exemplars', icon: 'üåç' },
                { id: 'comparison', label: 'Comparative Analysis', icon: '‚öñÔ∏è' },
                { id: 'metaCase', label: 'Case Study: Meta', icon: 'üì±' },
                { id: 'toulminCoherence', label: 'Toulmin + Coherence', icon: 'üî¨' },
                { id: 'modeling', label: 'Student Modeling', icon: '‚úèÔ∏è' }, 
                { id: 'argumentAnalysis', label: 'Argument Analysis', icon: 'üéì' }, 
                { id: 'synthesis', label: 'Synthesis & Completion', icon: 'üèÜ' }
            ];

            return (
                <div className="min-h-screen">
                    {/* Accessibility: Live region for announcements */}
                    <div aria-live="polite" aria-atomic="true" className="sr-only">
                        {announcement}
                    </div>

                    <header className="gradient-bg text-white shadow-lg" role="banner">
                        <div className="max-w-7xl mx-auto px-4 py-6">
                            <h1 className="text-3xl font-bold mb-2">Ethical Reasoning for the Information Age</h1>
                            <p className="text-lg opacity-90">The Toulmin Tool: Analyzing Arguments Across Difference</p>
                            <div className="mt-4 bg-white/20 rounded-full h-2" role="progressbar" 
                                 aria-valuenow={calculateProgress()} aria-valuemin="0" aria-valuemax="100"
                                 aria-label="Overall progress">
                                <div className="bg-white h-full transition-all" style={{ width: `${calculateProgress()}%` }}></div>
                            </div>
                            <p className="text-sm mt-2 opacity-80">{calculateProgress()}% Complete</p>
                        </div>
                    </header>

                    <nav className="bg-white shadow-sm sticky top-0 z-50" role="navigation" aria-label="Section navigation">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex overflow-x-auto py-4 space-x-2">
                                {sections.map(section => {
                                    const status = sectionProgress[section.id]?.status || 'not-started';
                                    const isCurrent = currentSection === section.id;
                                    
                                    return (
                                        <button
                                            key={section.id}
                                            onClick={() => navigateToSection(section.id)}
                                            aria-current={isCurrent ? 'page' : undefined}
                                            aria-label={`${section.label}${status === 'proficient' ? ', completed' : ''}`}
                                            className={`flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-all ${
                                                isCurrent ? 'bg-purple-100 text-purple-700 font-semibold' : 'hover:bg-gray-100'
                                            }`}
                                        >
                                            <span className="text-xl" aria-hidden="true">{section.icon}</span>
                                            <span>{section.label}</span>
                                            {status === 'proficient' && <span aria-label="completed">‚úì</span>}
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </nav>

                    <main id="main-content" className="max-w-7xl mx-auto px-4 py-8" role="main">
                        <div className="fade-in">
                            {currentSection === 'intro' && (
                                <IntroSection onComplete={() => completeSection('intro')} onNext={() => navigateToSection('os1os2')} />
                            )}
                            {currentSection === 'os1os2' && (
                                <OS1OS2Section onComplete={() => completeSection('os1os2')} onNext={() => navigateToSection('coherence')} />
                            )}
                            {currentSection === 'coherence' && (
                                <CoherenceSection onComplete={() => completeSection('coherence')} onNext={() => navigateToSection('notation')} />
                            )}
                            {currentSection === 'notation' && (
                                <NotationSection onComplete={() => completeSection('notation')} onNext={() => navigateToSection('exemplars')} />
                            )}
                            {currentSection === 'exemplars' && (
                                <ExemplarsSection 
                                    philosophers={PHILOSOPHERS}
                                    completedViews={completedViews}
                                    setCompletedViews={setCompletedViews}
                                    onComplete={() => completeSection('exemplars')}
                                    onNext={() => navigateToSection('comparison')}
                                />
                            )}
                            {currentSection === 'comparison' && (
                                <ComparisonSection 
                                    philosophers={PHILOSOPHERS}
                                    comparisonPair={comparisonPair}
                                    setComparisonPair={setComparisonPair}
                                    onComplete={() => completeSection('comparison')}
                                    onNext={() => navigateToSection('metaCase')}
                                />
                            )}
                            {currentSection === 'metaCase' && (
                                <MetaCaseSection 
                                    onComplete={() => completeSection('metaCase')}
                                    onNext={() => navigateToSection('toulminCoherence')}
                                />
                            )}
                            {currentSection === 'toulminCoherence' && (
                                <ToulminCoherenceSection 
                                    onComplete={() => completeSection('toulminCoherence')}
                                    onNext={() => navigateToSection('modeling')}
                                />
                            )}
                            {currentSection === 'modeling' && (
                                <ModelingSection 
                                    studentModels={studentModels}
                                    setStudentModels={setStudentModels}
                                    onComplete={() => completeSection('modeling')}
                                    onNext={() => navigateToSection('argumentAnalysis')}
                                />
                            )}
                            {currentSection === 'argumentAnalysis' && (
                                <ArgumentAnalysisSection 
                                    philosophers={PHILOSOPHERS} 
                                    onComplete={() => completeSection('argumentAnalysis')} 
                                    onNext={() => navigateToSection('synthesis')} 
                                />
                            )}
                            {currentSection === 'synthesis' && (
                                <SynthesisSection 
                                    studentInfo={studentInfo}
                                    sessionData={sessionData}
                                    sectionProgress={sectionProgress}
                                    studentModels={studentModels}
                                    onComplete={() => completeSection('synthesis')}
                                />
                            )}
                        </div>
                    </main>
                </div>
            );
        }

        // Welcome Screen - INFORMATION AGE REBRANDING
        function WelcomeScreen({ onStart }) {
            const [formData, setFormData] = useState({ name: '', email: '', course: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (formData.name && formData.email && formData.course) {
                    onStart(formData);
                }
            };

            return (
                <div className="min-h-screen gradient-bg py-12 px-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-lg shadow-2xl p-8 mb-6">
                            <h1 className="text-4xl font-bold text-gray-900 mb-4">
                                Ethical Reasoning for the Information Age
                            </h1>
                            <p className="text-2xl text-purple-700 font-semibold mb-6">
                                The Toulmin Tool: Analyzing Arguments Across Difference
                            </p>

                            <div className="bg-gradient-to-br from-blue-50 to-purple-50 border-l-4 border-purple-500 p-6 mb-6">
                                <h3 className="text-xl font-semibold text-purple-900 mb-3">Information Age Coordination Challenges</h3>
                                <p className="text-gray-700 mb-3">
                                    We live in a world where:
                                </p>
                                <ul className="space-y-2 text-gray-700">
                                    <li>‚Ä¢ <strong>Algorithms shape what we see</strong> - content filters determine whose voices reach us</li>
                                    <li>‚Ä¢ <strong>Communities span continents</strong> - coordinating across vast distances and differences</li>
                                    <li>‚Ä¢ <strong>Institutional filters determine whose knowledge counts</strong> - gatekeeping at scale</li>
                                    <li>‚Ä¢ <strong>Ethical frameworks collide</strong> - diverse traditions meet in digital spaces</li>
                                </ul>
                                <p className="text-gray-700 mt-3">
                                    How do we reason ethically when standpoints differ radically and coordination happens through mediated networks?
                                </p>
                            </div>

                            <div className="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
                                <h3 className="text-xl font-semibold text-blue-900 mb-2">What This Tool Provides</h3>
                                <p className="text-gray-700">
                                    A systematic method for analyzing ethical arguments that reveals:
                                </p>
                                <ul className="mt-3 space-y-2 text-gray-700">
                                    <li>‚Ä¢ How standpoint shapes what's visible about ethical reality</li>
                                    <li>‚Ä¢ When arguments work and when they fail (scope conditions)</li>
                                    <li>‚Ä¢ What institutional structures enable or prevent ethical reasoning</li>
                                    <li>‚Ä¢ How to build bridges across different ethical frameworks</li>
                                </ul>
                            </div>

                            <div className="bg-green-50 border-l-4 border-green-500 p-6 mb-6">
                                <h4 className="text-lg font-semibold text-green-900 mb-2">Toulmin Analysis + Coherence Framework</h4>
                                <p className="text-gray-700">
                                    You'll learn to map ethical arguments (Toulmin's 6 components) AND analyze the coherence 
                                    conditions required for those arguments to be accessible. This reveals why philosophers 
                                    disagree‚Äînot because they're wrong, but because they're seeing different patterns from 
                                    different positions.
                                </p>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-2xl p-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-4">Student Information</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-2">
                                        Full Name *
                                    </label>
                                    <input
                                        id="name"
                                        type="text"
                                        required
                                        aria-required="true"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.name}
                                        onChange={(e) => setFormData({...formData, name: e.target.value})}
                                    />
                                </div>
                                <div>
                                    <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                                        Email *
                                    </label>
                                    <input
                                        id="email"
                                        type="email"
                                        required
                                        aria-required="true"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.email}
                                        onChange={(e) => setFormData({...formData, email: e.target.value})}
                                    />
                                </div>
                                <div>
                                    <label htmlFor="course" className="block text-sm font-medium text-gray-700 mb-2">
                                        Course *
                                    </label>
                                    <input
                                        id="course"
                                        type="text"
                                        required
                                        aria-required="true"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.course}
                                        onChange={(e) => setFormData({...formData, course: e.target.value})}
                                    />
                                </div>
                                <button
                                    type="submit"
                                    className="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors focus:ring-4 focus:ring-purple-300"
                                >
                                    Begin Toulmin Tool ‚Üí
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            );
        }

        // Section Components
        function IntroSection({ onComplete, onNext }) {
            useEffect(() => { onComplete(); }, []);

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        Why Analyze Philosophical Arguments in the Information Age?
                    </h2>
                    
                    <p className="text-xl text-gray-700 mb-6">
                        Philosophy isn't a museum of dead ideas‚Äîit's a living record of how humans have tried to 
                        understand ethical coordination from different standpoints across time and culture.
                    </p>

                    <div className="bg-gradient-to-br from-blue-100 to-purple-100 border-2 border-purple-300 p-6 rounded-lg mb-6">
                        <h3 className="text-xl font-semibold text-purple-900 mb-3">The Core Insight</h3>
                        <p className="text-gray-700 mb-3">
                            What you can see about ethics depends on where you stand in social, historical, and material reality.
                        </p>
                        <ul className="space-y-2 text-gray-700">
                            <li>‚Ä¢ Different standpoints reveal different aspects of ethical reality</li>
                            <li>‚Ä¢ The same person in different contexts will notice different things</li>
                            <li>‚Ä¢ Gates (institutional filters) determine whose knowledge counts</li>
                            <li>‚Ä¢ Meta-constructors (review systems) allow adaptation over time</li>
                        </ul>
                    </div>

                    <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-6">
                        <h3 className="text-lg font-bold text-yellow-900 mb-2">Information Age Context</h3>
                        <p className="text-gray-700">
                            When ethical arguments travel through algorithmic filters, across cultural boundaries, and through 
                            institutional gatekeepers, understanding HOW arguments work‚Äîand for whom‚Äîbecomes essential for 
                            ethical coordination at scale.
                        </p>
                    </div>

                    <button
                        onClick={onNext}
                        className="w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors focus:ring-4 focus:ring-purple-300"
                    >
                        Continue to OS1/OS2 Framework ‚Üí
                    </button>
                </div>
            );
        }

        // COHERENCE SECTION - NEW FOR PHASE 2
        function CoherenceSection({ onComplete, onNext }) {
            const [expandedDimension, setExpandedDimension] = useState(null);
            const [exploredDimensions, setExploredDimensions] = useState(new Set());

            const dimensions = [
                {
                    id: 'BRC',
                    name: 'Biological-Regulatory Coherence',
                    color: 'orange',
                    icon: 'ü´Ä',
                    shortDesc: 'Emotional regulation and stress management',
                    fullDesc: 'Your capacity to regulate emotions, manage stress, and maintain physiological stability. When overwhelmed, your prefrontal cortex literally can\'t do complex ethical reasoning.',
                    examples: [
                        'Sleep deprivation makes moral judgment deteriorate',
                        'Chronic stress narrows attention and reduces nuance',
                        'Panic states prevent deliberative thinking',
                        'Hunger and physical pain compromise decision-making'
                    ],
                    breakdown: 'When BRC breaks: panic, rigidity, emotional flooding, fight-flight-freeze responses dominate',
                    philosopherNote: 'Aristotle: doctrine of the mean. Emotions must be educated and regulated for virtue to function.'
                },
                {
                    id: 'KIC',
                    name: 'Kernel Identity Coherence',
                    color: 'blue',
                    icon: 'üé≠',
                    shortDesc: 'Integrated sense of self across contexts',
                    fullDesc: 'Your ability to maintain a coherent identity across different roles and contexts. Fragmentation means being different people in different places, unable to develop settled character.',
                    examples: [
                        'Being authentic at work vs. compartmentalized',
                        'Values consistent across relationships',
                        'Not requiring different masks in different spaces',
                        'Settled character that persists across time'
                    ],
                    breakdown: 'When KIC breaks: compartmentalization, "different person at work/home," moral distress from value conflicts',
                    philosopherNote: 'Aristotle: virtue as settled disposition. Confucius: relational roles integrate into coherent self.'
                },
                {
                    id: 'CIC',
                    name: 'Cognitive-Informational Coherence',
                    color: 'yellow',
                    icon: 'üß†',
                    shortDesc: 'Capacity for complex reasoning',
                    fullDesc: 'Your ability to process complex information, hold multiple perspectives, avoid contradictions, and exercise practical judgment. Overload means black-and-white thinking.',
                    examples: [
                        'Working memory under cognitive load',
                        'Ability to see nuance vs. binary thinking',
                        'Holding multiple considerations simultaneously',
                        'Pattern recognition and practical wisdom'
                    ],
                    breakdown: 'When CIC breaks: binary thinking, can\'t process complexity, contradictions proliferate',
                    philosopherNote: 'Kant: requires full rational capacity. Aristotle: phronesis needs cognitive bandwidth for context-sensitive judgment.'
                },
                {
                    id: 'ISC',
                    name: 'Institutional-Structural Coherence',
                    color: 'green',
                    icon: 'üèõÔ∏è',
                    shortDesc: 'Institutions that support vs. punish ethics',
                    fullDesc: 'Whether the institutions you\'re embedded in support ethical action or punish it. Bad structures create double-binds where all choices feel wrong.',
                    examples: [
                        'Workplace that rewards integrity vs. exploitation',
                        'Healthcare system that allows proper care',
                        'Educational structures supporting learning',
                        'Communities that enable virtue development'
                    ],
                    breakdown: 'When ISC breaks: moral double-binds, "damned if you do, damned if you don\'t," institutional betrayal',
                    philosopherNote: 'Aristotle: requires the polis. Maathai: institutional structures determine whose knowledge counts.'
                },
                {
                    id: 'TNC',
                    name: 'Temporal-Narrative Coherence',
                    color: 'purple',
                    icon: '‚è≥',
                    shortDesc: 'Connection across time and commitment',
                    fullDesc: 'Your ability to connect past, present, and future into a coherent narrative and maintain long-term commitments. Short-termism means ethical frameworks requiring patience become inaccessible.',
                    examples: [
                        'Seeing life as whole trajectory vs. isolated moments',
                        'Maintaining commitments across years',
                        'Learning from past and planning for future',
                        'Addiction collapses time horizon to "now"'
                    ],
                    breakdown: 'When TNC breaks: short-termism, "only today matters," inability to develop character over time',
                    philosopherNote: 'Aristotle: requires complete life perspective. Virtue develops across decades, not moments.'
                }
            ];

            const allExplored = dimensions.every(d => exploredDimensions.has(d.id));

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        The Five Coherence Dimensions
                    </h2>
                    
                    <p className="text-xl text-gray-700 mb-6">
                        Ethics isn't just about knowing right from wrong‚Äîit requires five distinct capacities working together. 
                        When any of these break down, ethical reasoning becomes difficult or impossible.
                    </p>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
                        <h3 className="font-bold text-blue-900 mb-2">Key Insight</h3>
                        <p className="text-gray-700">
                            Different ethical frameworks require different coherence conditions. Understanding these helps you see:
                        </p>
                        <ul className="mt-2 space-y-1 text-gray-700">
                            <li>‚Ä¢ When an ethical framework will work for YOU</li>
                            <li>‚Ä¢ What conditions need protection to maintain ethical capacity</li>
                            <li>‚Ä¢ Why philosophers disagree (they're tracking different breakdowns)</li>
                        </ul>
                    </div>

                    <div className="bg-gray-100 border-2 border-gray-400 rounded-lg p-4 mb-6">
                        <p className="text-sm font-semibold text-gray-700">
                            Progress: {exploredDimensions.size} of {dimensions.length} dimensions explored
                            {allExplored && " ‚úì All explored!"}
                        </p>
                    </div>

                    <div className="space-y-4 mb-8">
                        {dimensions.map(dimension => {
                            const isExpanded = expandedDimension === dimension.id;
                            const isExplored = exploredDimensions.has(dimension.id);
                            const colorClasses = {
                                orange: 'bg-orange-50 border-orange-300 text-orange-900',
                                blue: 'bg-blue-50 border-blue-300 text-blue-900',
                                yellow: 'bg-yellow-50 border-yellow-300 text-yellow-900',
                                green: 'bg-green-50 border-green-300 text-green-900',
                                purple: 'bg-purple-50 border-purple-300 text-purple-900'
                            };

                            return (
                                <div key={dimension.id} className={`border-2 rounded-lg overflow-hidden ${isExplored ? 'border-green-400' : ''}`}>
                                    <button
                                        onClick={() => {
                                            setExpandedDimension(isExpanded ? null : dimension.id);
                                            setExploredDimensions(new Set([...exploredDimensions, dimension.id]));
                                        }}
                                        className={`w-full text-left p-6 ${colorClasses[dimension.color]} hover:opacity-90 transition-all`}
                                    >
                                        <div className="flex justify-between items-center">
                                            <div className="flex items-center space-x-4">
                                                <span className="text-4xl" aria-hidden="true">{dimension.icon}</span>
                                                <div>
                                                    <h3 className="text-xl font-bold">{dimension.id}: {dimension.name}</h3>
                                                    <p className="text-sm mt-1">{dimension.shortDesc}</p>
                                                </div>
                                            </div>
                                            <div className="flex items-center space-x-3">
                                                {isExplored && <span className="text-green-600 font-bold">‚úì</span>}
                                                <span className="text-2xl">{isExpanded ? '‚ñº' : '‚ñ∂'}</span>
                                            </div>
                                        </div>
                                    </button>

                                    {isExpanded && (
                                        <div className="p-6 bg-white border-t-2">
                                            <p className="text-gray-700 mb-4 font-semibold">{dimension.fullDesc}</p>
                                            
                                            <div className="mb-4">
                                                <h4 className="font-bold text-gray-900 mb-2">Examples:</h4>
                                                <ul className="space-y-1 text-gray-700">
                                                    {dimension.examples.map((ex, i) => (
                                                        <li key={i}>‚Ä¢ {ex}</li>
                                                    ))}
                                                </ul>
                                            </div>

                                            <div className="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
                                                <h4 className="font-bold text-red-900 mb-1">When It Breaks Down:</h4>
                                                <p className="text-sm text-gray-700">{dimension.breakdown}</p>
                                            </div>

                                            <div className="bg-indigo-50 border-l-4 border-indigo-500 p-4">
                                                <h4 className="font-bold text-indigo-900 mb-1">Philosopher Connection:</h4>
                                                <p className="text-sm text-gray-700">{dimension.philosopherNote}</p>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                    </div>

                    {allExplored ? (
                        <button
                            onClick={() => { onComplete(); onNext(); }}
                            className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors"
                        >
                            Continue to FAIM-QIRF Notation ‚Üí
                        </button>
                    ) : (
                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                            <p className="text-sm text-gray-700">
                                Explore all {dimensions.length} dimensions to continue. Click each one to expand and learn more.
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        function OS1OS2Section({ onComplete, onNext }) {
            const [expanded, setExpanded] = useState(null);

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        OS1 & OS2: Two Complementary Capacities
                    </h2>

                    <p className="text-xl text-gray-700 mb-6">
                        Think of ethical reasoning as having two "operating systems" that work together:
                    </p>

                    {/* OS1 */}
                    <div className="mb-6">
                        <button
                            onClick={() => setExpanded(expanded === 'os1' ? null : 'os1')}
                            aria-expanded={expanded === 'os1'}
                            className="w-full text-left bg-blue-50 hover:bg-blue-100 p-6 rounded-lg border-2 border-blue-200 transition-colors"
                        >
                            <div className="flex justify-between items-center">
                                <div>
                                    <h3 className="text-2xl font-bold text-blue-900">OS1: Phenomenological Reference Frame</h3>
                                    <p className="text-gray-700 mt-2">The "how it feels" layer - living ethical experience</p>
                                </div>
                                <span className="text-2xl" aria-hidden="true">{expanded === 'os1' ? '‚ñº' : '‚ñ∂'}</span>
                            </div>
                        </button>

                        {expanded === 'os1' && (
                            <div className="mt-4 p-6 bg-gray-50 rounded-lg">
                                <p className="text-gray-700 mb-4">
                                    OS1 is what traditional ethics courses teach well: rigorous ethical reasoning from 
                                    within the lived experience of making moral choices.
                                </p>
                                <ul className="space-y-2 text-gray-700">
                                    <li>‚Ä¢ Phenomenological engagement with ethical dilemmas</li>
                                    <li>‚Ä¢ Conceptual analysis (what does "justice" mean?)</li>
                                    <li>‚Ä¢ Argument construction and evaluation</li>
                                    <li>‚Ä¢ Framework application (deontology, consequentialism, virtue)</li>
                                    <li>‚Ä¢ Case analysis and intuition refinement</li>
                                </ul>
                                <p className="text-gray-700 mt-4 font-semibold">
                                    Why OS1 is essential: These are foundational skills for rigorous ethical reasoning.
                                </p>
                            </div>
                        )}
                    </div>

                    {/* OS2 */}
                    <div className="mb-6">
                        <button
                            onClick={() => setExpanded(expanded === 'os2' ? null : 'os2')}
                            aria-expanded={expanded === 'os2'}
                            className="w-full text-left bg-purple-50 hover:bg-purple-100 p-6 rounded-lg border-2 border-purple-200 transition-colors"
                        >
                            <div className="flex justify-between items-center">
                                <div>
                                    <h3 className="text-2xl font-bold text-purple-900">OS2: Meta-Constructor Capacity</h3>
                                    <p className="text-gray-700 mt-2">The "modeling our modeling" layer - reflective awareness</p>
                                </div>
                                <span className="text-2xl" aria-hidden="true">{expanded === 'os2' ? '‚ñº' : '‚ñ∂'}</span>
                            </div>
                        </button>

                        {expanded === 'os2' && (
                            <div className="mt-4 p-6 bg-gray-50 rounded-lg">
                                <p className="text-gray-700 mb-4">
                                    OS2 is the capacity to step back and model how ethical reasoning happens‚Äîincluding how 
                                    your standpoint shapes what you can see.
                                </p>
                                <ul className="space-y-2 text-gray-700">
                                    <li>‚Ä¢ Standpoint awareness: How does my position shape what I see?</li>
                                    <li>‚Ä¢ Gate recognition: What institutional filters determine valid knowledge?</li>
                                    <li>‚Ä¢ Constructor analysis: What procedures produce ethical knowledge?</li>
                                    <li>‚Ä¢ Meta-constructor design: How can systems learn and adapt?</li>
                                    <li>‚Ä¢ Multi-perspective synthesis: What's visible from other standpoints?</li>
                                </ul>
                                <p className="text-gray-700 mt-4 font-semibold">
                                    Why OS2 matters: Reveals patterns invisible from within OS1 alone.
                                </p>
                            </div>
                        )}
                    </div>

                    {/* Sapolsky */}
                    <div className="bg-gradient-to-br from-red-100 to-orange-100 border-2 border-red-300 p-6 rounded-lg mb-6">
                        <h3 className="text-xl font-bold text-red-900 mb-3">The Sapolsky Problem & Resolution</h3>
                        <p className="text-gray-700 mb-3">
                            Neuroscientist Robert Sapolsky argues we're fully determined by physics and our past. 
                            If true, ethical reasoning seems pointless.
                        </p>
                        <div className="bg-white p-4 rounded mb-3">
                            <p className="font-semibold text-red-900 mb-2">The Meta-Constructor Response:</p>
                            <p className="text-sm text-gray-700">
                                When agents can build meta-constructors (models of themselves that they use to guide themselves), 
                                this creates genuine degrees of freedom. Not libertarian free will, but real options at t+1 that 
                                depend on how we model ourselves at t. The model itself has causal power.
                            </p>
                        </div>
                    </div>

                    <button
                        onClick={() => { onComplete(); onNext(); }}
                        className="w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors focus:ring-4 focus:ring-purple-300"
                    >
                        Continue to FAIM-QIRF Notation ‚Üí
                    </button>
                </div>
            );
        }

        function NotationSection({ onComplete, onNext }) {
            const [currentStep, setCurrentStep] = useState(0);

            const steps = [
                {
                    title: "Agent Structure",
                    content: "Every agent: a = ‚ü®IK, PRS_t, SPTS, AH, BROA+, Cap, Capab, Cons, MetaCons‚ü©",
                    components: [
                        { symbol: "IK", name: "Identity Kernel", desc: "Core non-negotiable commitments" },
                        { symbol: "PRS_t", name: "Phenomenal Reference Space", desc: "What's visible/legible now" },
                        { symbol: "SPTS", name: "Standpoint Set", desc: "Situated perspectives agent can occupy" },
                        { symbol: "AH", name: "Assembly History", desc: "How past experiences shape current filters" },
                        { symbol: "BROA+", name: "Beliefs-Rules-Ontology-Authenticity", desc: "Filters shaping interpretation" },
                        { symbol: "Cap", name: "Capacities", desc: "Latent abilities" },
                        { symbol: "Capab", name: "Capabilities", desc: "Reliable methods" },
                        { symbol: "Cons", name: "Constructors", desc: "Procedures that persist" },
                        { symbol: "MetaCons", name: "Meta-Constructors", desc: "Learning loops" }
                    ]
                },
                {
                    title: "World Structure",
                    content: "World: W_t = ‚ü®Ctx_t, Cons, MetaCons, G‚ü©",
                    components: [
                        { symbol: "Ctx_t", name: "Context", desc: "Current social/epistemic contexts" },
                        { symbol: "Cons", name: "Constructors", desc: "Institutional procedures" },
                        { symbol: "MetaCons", name: "Meta-Constructors", desc: "Review/repair mechanisms" },
                        { symbol: "G", name: "Gates", desc: "What counts as evidence/voice/standing" }
                    ]
                },
                {
                    title: "Why This Notation Matters",
                    content: "This lets us compare thinkers systematically, identify intervention points, and design better systems.",
                    example: "Aristotle's G (gates) excluded women/slaves. Intervention: Add MetaCons that include excluded SPTS."
                }
            ];

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">FAIM-QIRF Notation Tutorial</h2>

                    <div className="flex space-x-2 mb-4" role="tablist" aria-label="Notation steps">
                        {steps.map((step, idx) => (
                            <button
                                key={idx}
                                role="tab"
                                aria-selected={currentStep === idx}
                                aria-controls={`step-panel-${idx}`}
                                id={`step-tab-${idx}`}
                                onClick={() => setCurrentStep(idx)}
                                className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                    currentStep === idx ? 'bg-purple-600 text-white' : 'bg-gray-200 hover:bg-gray-300'
                                }`}
                            >
                                Step {idx + 1}
                            </button>
                        ))}
                    </div>

                    <div 
                        role="tabpanel" 
                        id={`step-panel-${currentStep}`}
                        aria-labelledby={`step-tab-${currentStep}`}
                        className="bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-purple-200 rounded-lg p-6 mb-6"
                    >
                        <h3 className="text-2xl font-bold text-purple-900 mb-4">{steps[currentStep].title}</h3>
                        <p className="text-gray-700 mb-6">{steps[currentStep].content}</p>

                        {steps[currentStep].components && (
                            <div className="space-y-3">
                                {steps[currentStep].components.map((comp, idx) => (
                                    <div key={idx} className="bg-white p-4 rounded-lg shadow">
                                        <div className="flex items-start">
                                            <div className="bg-purple-100 text-purple-900 font-mono font-bold px-3 py-1 rounded text-sm mr-4">
                                                {comp.symbol}
                                            </div>
                                            <div className="flex-1">
                                                <p className="font-semibold text-gray-900">{comp.name}</p>
                                                <p className="text-sm text-gray-600 mt-1">{comp.desc}</p>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {steps[currentStep].example && (
                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mt-6">
                                <p className="text-sm text-gray-700">{steps[currentStep].example}</p>
                            </div>
                        )}
                    </div>

                    <div className="flex justify-between">
                        <button
                            onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
                            disabled={currentStep === 0}
                            aria-label="Previous step"
                            className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                currentStep === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gray-300 hover:bg-gray-400'
                            }`}
                        >
                            ‚Üê Previous
                        </button>
                        {currentStep === steps.length - 1 ? (
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors focus:ring-4 focus:ring-purple-300"
                            >
                                Continue to Exemplars ‚Üí
                            </button>
                        ) : (
                            <button
                                onClick={() => setCurrentStep(currentStep + 1)}
                                aria-label="Next step"
                                className="px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors"
                            >
                                Next ‚Üí
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        // EXEMPLARS SECTION
        function ExemplarsSection({ philosophers, completedViews, setCompletedViews, onComplete, onNext }) {
            const [selectedPhil, setSelectedPhil] = useState(null);
            const philosopherList = Object.keys(philosophers);
            const allViewed = philosopherList.every(p => completedViews.has(p));

            if (selectedPhil) {
                const phil = philosophers[selectedPhil];
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <button
                            onClick={() => setSelectedPhil(null)}
                            className="mb-4 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg"
                        >
                            ‚Üê Back to All
                        </button>

                        <div className="flex items-center space-x-4 mb-6">
                            <div className="text-6xl">{phil.image}</div>
                            <div>
                                <h2 className="text-3xl font-bold text-gray-900">{phil.name}</h2>
                                <p className="text-lg text-gray-600">{phil.era}</p>
                                <p className="text-md text-purple-600 font-semibold">{phil.region}</p>
                            </div>
                        </div>

                        <div className="bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-6 mb-6">
                            <h3 className="text-2xl font-bold text-purple-900 mb-4">Coherence Requirements</h3>
                            <p className="text-gray-700 mb-4">
                                <strong>When This Works:</strong> {phil.whenWorks}
                            </p>
                            <p className="text-gray-700 mb-4">
                                <strong>When This Fails:</strong> {phil.whenFails}
                            </p>
                            
                            <div className="grid md:grid-cols-5 gap-3 mt-4">
                                {Object.entries(phil.coherenceRequirements).map(([key, req]) => {
                                    const colors = {
                                        'very-high': 'bg-red-100 border-red-400 text-red-900',
                                        'high': 'bg-orange-100 border-orange-400 text-orange-900',
                                        'moderate': 'bg-yellow-100 border-yellow-400 text-yellow-900',
                                        'low': 'bg-green-100 border-green-400 text-green-900'
                                    };
                                    return (
                                        <div key={key} className={`border-2 rounded p-3 ${colors[req.level]}`} title={req.note}>
                                            <div className="font-bold text-center mb-1">{key}</div>
                                            <div className="text-xs text-center">{req.level}</div>
                                        </div>
                                    );
                                })}
                            </div>
                            <p className="text-xs text-gray-600 mt-3 italic">Hover over each dimension to see why it's required</p>
                        </div>

                        <div className="bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-6 mb-6">
                            <h3 className="text-2xl font-bold text-purple-900 mb-4">Formal Model</h3>
                            <div className="space-y-3">
                                {Object.entries(phil.model).map(([key, value]) => (
                                    <div key={key} className="bg-white p-3 rounded-lg">
                                        <span className="bg-purple-100 text-purple-900 font-mono text-xs px-2 py-1 rounded mr-2">
                                            {key}
                                        </span>
                                        {Array.isArray(value) ? (
                                            <ul className="text-sm text-gray-700 mt-2">
                                                {value.map((v, i) => <li key={i}>‚Ä¢ {v}</li>)}
                                            </ul>
                                        ) : (
                                            <span className="text-sm text-gray-700">{value}</span>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-4 mb-6">
                            <div className="bg-green-50 p-4 rounded-lg">
                                <h4 className="font-bold text-green-900 mb-2">Key Insights</h4>
                                <ul className="text-sm text-gray-700 space-y-1">
                                    {phil.keyInsights.map((insight, i) => <li key={i}>‚Ä¢ {insight}</li>)}
                                </ul>
                            </div>
                            <div className="bg-yellow-50 p-4 rounded-lg">
                                <h4 className="font-bold text-yellow-900 mb-2">Limitations</h4>
                                <ul className="text-sm text-gray-700 space-y-1">
                                    {phil.limitations.map((limit, i) => <li key={i}>‚Ä¢ {limit}</li>)}
                                </ul>
                            </div>
                        </div>

                        <button
                            onClick={() => setSelectedPhil(null)}
                            className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                        >
                            View All Philosophers
                        </button>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Philosopher Exemplars</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Study these diverse thinkers to see how different standpoints reveal different aspects of reality.
                    </p>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                        <p className="text-sm">
                            Progress: {completedViews.size} of {philosopherList.length} viewed
                            {allViewed && " ‚úì All viewed!"}
                        </p>
                    </div>

                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        {philosopherList.map(philKey => {
                            const phil = philosophers[philKey];
                            const viewed = completedViews.has(philKey);
                            
                            return (
                                <div
                                    key={philKey}
                                    className={`border-2 rounded-lg p-6 ${viewed ? 'border-green-400' : 'border-gray-300'}`}
                                >
                                    <div className="text-center mb-4">
                                        <div className="text-5xl mb-3">{phil.image}</div>
                                        <h3 className="text-xl font-bold">{phil.name}</h3>
                                        <p className="text-sm text-gray-600">{phil.era}</p>
                                        <p className="text-xs text-purple-600 font-semibold">{phil.region}</p>
                                    </div>
                                    <button
                                        onClick={() => {
                                            setSelectedPhil(philKey);
                                            setCompletedViews(new Set([...completedViews, philKey]));
                                        }}
                                        className={`w-full px-4 py-2 rounded-lg font-semibold ${
                                            viewed ? 'bg-green-100 text-green-700' : 'bg-purple-600 text-white hover:bg-purple-700'
                                        }`}
                                    >
                                        {viewed ? '‚úì View Again' : 'View Model'}
                                    </button>
                                </div>
                            );
                        })}
                    </div>

                    {allViewed && (
                        <button
                            onClick={() => { onComplete(); onNext(); }}
                            className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                        >
                            Continue to Comparative Analysis ‚Üí
                        </button>
                    )}
                </div>
            );
        }

        // OS1 DEEP DIVE COMPONENT
        function OS1DeepDive({ phil1Key, phil2Key, p1, p2 }) {
            const getOS1Analysis = (phil) => {
                const spts = Array.isArray(phil.model.SPTS) ? phil.model.SPTS : [phil.model.SPTS];
                const primarySPTS = spts[0] || "their position";
                
                return {
                    canSee: phil.model.PRS_t,
                    blindSpots: phil.whatExcluded,
                    standpoint: primarySPTS,
                    filters: phil.model.BROAPlus
                };
            };

            const os1_p1 = getOS1Analysis(p1);
            const os1_p2 = getOS1Analysis(p2);

            return (
                <div className="space-y-6 mb-6 fade-in">
                    <div className="bg-gradient-to-br from-indigo-100 to-purple-100 border-2 border-indigo-400 rounded-lg p-6">
                        <h3 className="text-2xl font-bold text-indigo-900 mb-4">üîç OS1 DEEP DIVE: Why They'd Disagree</h3>
                        <p className="text-gray-700">
                            This shows how each philosopher's lived experience (OS1) shapes what they can see‚Äîand why they'd disagree.
                        </p>
                    </div>

                    <div className="bg-white border-2 border-gray-300 rounded-lg p-6">
                        <h4 className="text-xl font-bold text-gray-900 mb-4">What Each Can See</h4>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="bg-blue-50 p-4 rounded-lg">
                                <h5 className="font-bold text-blue-900 mb-3">{p1.name}'s Standpoint</h5>
                                <p className="text-sm text-gray-700"><strong>From:</strong> {os1_p1.standpoint}</p>
                                <p className="text-sm text-gray-700 mt-2"><strong>Sees:</strong> {os1_p1.canSee}</p>
                                <p className="text-xs text-red-700 mt-2"><strong>Misses:</strong> {os1_p1.blindSpots}</p>
                            </div>

                            <div className="bg-purple-50 p-4 rounded-lg">
                                <h5 className="font-bold text-purple-900 mb-3">{p2.name}'s Standpoint</h5>
                                <p className="text-sm text-gray-700"><strong>From:</strong> {os1_p2.standpoint}</p>
                                <p className="text-sm text-gray-700 mt-2"><strong>Sees:</strong> {os1_p2.canSee}</p>
                                <p className="text-xs text-red-700 mt-2"><strong>Misses:</strong> {os1_p2.blindSpots}</p>
                            </div>
                        </div>
                    </div>

                    <div className="bg-white border-2 border-gray-300 rounded-lg p-6">
                        <h4 className="text-xl font-bold text-gray-900 mb-4">Coherence Requirements Comparison</h4>
                        
                        <div className="overflow-x-auto">
                            <table className="w-full text-sm">
                                <thead>
                                    <tr className="border-b-2 border-gray-300">
                                        <th className="text-left p-2">Dimension</th>
                                        <th className="text-center p-2">{p1.name}</th>
                                        <th className="text-center p-2">{p2.name}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].map(dim => {
                                        const req1 = p1.coherenceRequirements[dim];
                                        const req2 = p2.coherenceRequirements[dim];
                                        const levelColors = {
                                            'very-high': 'bg-red-100',
                                            'high': 'bg-orange-100',
                                            'moderate': 'bg-yellow-100',
                                            'low': 'bg-green-100'
                                        };
                                        return (
                                            <tr key={dim} className="border-b border-gray-200">
                                                <td className="p-2 font-bold">{dim}</td>
                                                <td className={`p-2 text-center ${levelColors[req1.level]}`} title={req1.note}>
                                                    {req1.level}
                                                </td>
                                                <td className={`p-2 text-center ${levelColors[req2.level]}`} title={req2.note}>
                                                    {req2.level}
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>

                        <div className="mt-4 grid md:grid-cols-2 gap-4">
                            <div className="bg-blue-50 p-4 rounded">
                                <h5 className="font-bold text-blue-900 mb-2">{p1.name} Works When:</h5>
                                <p className="text-xs text-gray-700">{p1.whenWorks}</p>
                            </div>
                            <div className="bg-purple-50 p-4 rounded">
                                <h5 className="font-bold text-purple-900 mb-2">{p2.name} Works When:</h5>
                                <p className="text-xs text-gray-700">{p2.whenWorks}</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // COMPARISON SECTION
        function ComparisonSection({ philosophers, comparisonPair, setComparisonPair, onComplete, onNext }) {
            const [phil1, setPhil1] = useState(comparisonPair[0]);
            const [phil2, setPhil2] = useState(comparisonPair[1]);
            const [showAnalysis, setShowAnalysis] = useState(false);
            const [showDeepDive, setShowDeepDive] = useState(false);
            const philosopherList = Object.keys(philosophers);

            if (showAnalysis && phil1 && phil2) {
                const p1 = philosophers[phil1];
                const p2 = philosophers[phil2];

                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <button
                            onClick={() => { setShowAnalysis(false); setShowDeepDive(false); }}
                            className="mb-4 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg"
                        >
                            ‚Üê Choose Different Pair
                        </button>

                        <h2 className="text-3xl font-bold text-gray-900 mb-6">Comparative Analysis</h2>

                        <div className="grid md:grid-cols-2 gap-6 mb-8">
                            <div className="bg-blue-50 border-2 border-blue-300 rounded-lg p-6 text-center">
                                <div className="text-5xl mb-3">{p1.image}</div>
                                <h3 className="text-2xl font-bold">{p1.name}</h3>
                                <p className="text-sm text-gray-600">{p1.era}</p>
                            </div>
                            <div className="bg-purple-50 border-2 border-purple-300 rounded-lg p-6 text-center">
                                <div className="text-5xl mb-3">{p2.image}</div>
                                <h3 className="text-2xl font-bold">{p2.name}</h3>
                                <p className="text-sm text-gray-600">{p2.era}</p>
                            </div>
                        </div>

                        {!showDeepDive && (
                            <button
                                onClick={() => setShowDeepDive(true)}
                                className="w-full mb-6 px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700"
                            >
                                üîç OS1 Deep Dive: Why They'd Disagree
                            </button>
                        )}

                        {showDeepDive && <OS1DeepDive phil1Key={phil1} phil2Key={phil2} p1={p1} p2={p2} />}

                        <div className="flex space-x-4 mt-6">
                            <button
                                onClick={() => { setShowAnalysis(false); setShowDeepDive(false); }}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 rounded-lg font-semibold"
                            >
                                Compare Different Pair
                            </button>
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Continue to Modeling ‚Üí
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Comparative Analysis Tool</h2>
                    
                    <div className="grid md:grid-cols-2 gap-8 mb-8">
                        <div>
                            <h3 className="text-xl font-bold mb-4">Select First Philosopher</h3>
                            <div className="space-y-3">
                                {philosopherList.map(philKey => {
                                    const phil = philosophers[philKey];
                                    return (
                                        <button
                                            key={philKey}
                                            onClick={() => setPhil1(philKey)}
                                            className={`w-full text-left p-4 rounded-lg border-2 ${
                                                phil1 === philKey ? 'border-blue-500 bg-blue-50' : 'border-gray-300'
                                            }`}
                                        >
                                            <div className="flex items-center space-x-3">
                                                <span className="text-3xl">{phil.image}</span>
                                                <span className="font-semibold">{phil.name}</span>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        <div>
                            <h3 className="text-xl font-bold mb-4">Select Second Philosopher</h3>
                            <div className="space-y-3">
                                {philosopherList.map(philKey => {
                                    const phil = philosophers[philKey];
                                    return (
                                        <button
                                            key={philKey}
                                            onClick={() => setPhil2(philKey)}
                                            className={`w-full text-left p-4 rounded-lg border-2 ${
                                                phil2 === philKey ? 'border-purple-500 bg-purple-50' : 'border-gray-300'
                                            }`}
                                        >
                                            <div className="flex items-center space-x-3">
                                                <span className="text-3xl">{phil.image}</span>
                                                <span className="font-semibold">{phil.name}</span>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>

                    <button
                        onClick={() => {
                            if (phil1 && phil2 && phil1 !== phil2) {
                                setComparisonPair([phil1, phil2]);
                                setShowAnalysis(true);
                            }
                        }}
                        disabled={!phil1 || !phil2 || phil1 === phil2}
                        className={`w-full px-6 py-3 rounded-lg font-semibold ${
                            phil1 && phil2 && phil1 !== phil2
                                ? 'bg-purple-600 text-white hover:bg-purple-700'
                                : 'bg-gray-300 text-gray-500'
                        }`}
                    >
                        Compare These Philosophers ‚Üí
                    </button>
                </div>
            );
        }

        // META CASE STUDY SECTION - COHERENCE EXTRACTION AT SCALE
        function MetaCaseSection({ onComplete, onNext }) {
            const [currentPhase, setCurrentPhase] = useState(0);
            const [dimensionAnalysis, setDimensionAnalysis] = useState({});
            const [toulminConstruction, setToulminConstruction] = useState({
                claim: '',
                grounds: [],
                warrant: '',
                backing: '',
                rebuttals: []
            });
            const [personalAssessment, setPersonalAssessment] = useState({});
            const [showBiologicalAnalogue, setShowBiologicalAnalogue] = useState(false);

            const phases = [
                {
                    id: 'background',
                    title: 'The Case: Meta & Instagram',
                    canProgress: true
                },
                {
                    id: 'dimensions',
                    title: 'Coherence Analysis',
                    canProgress: () => {
                        // Check if all 5 dimensions have been analyzed (marked as true or false)
                        const dimensions = ['BRC', 'KIC', 'CIC', 'ISC', 'TNC'];
                        return dimensions.every(dim => dimensionAnalysis[dim] !== undefined);
                    }
                },
                {
                    id: 'toulmin',
                    title: 'Build the Argument',
                    canProgress: () => toulminConstruction.claim.length > 20
                },
                {
                    id: 'personal',
                    title: 'Personal Application',
                    canProgress: () => {
                        // Check if platform selected AND all 5 dimensions rated
                        const dimensions = ['BRC', 'KIC', 'CIC', 'ISC', 'TNC'];
                        return personalAssessment.platform && 
                               dimensions.every(dim => personalAssessment[dim] !== undefined);
                    }
                },
                {
                    id: 'synthesis',
                    title: 'Synthesis & Implications',
                    canProgress: true
                }
            ];

            const canProgressPhase = () => {
                const phase = phases[currentPhase];
                console.log('[META CASE] Checking progress for phase:', currentPhase, phase.title);
                console.log('[META CASE] Current dimensionAnalysis:', dimensionAnalysis);
                
                if (typeof phase.canProgress === 'function') {
                    const result = phase.canProgress();
                    console.log('[META CASE] Progress check result:', result);
                    return result;
                }
                console.log('[META CASE] Progress check (boolean):', phase.canProgress);
                return phase.canProgress;
            };

            // PHASE 0: BACKGROUND
            const BackgroundPhase = () => (
                <div className="space-y-6">
                    <div className="bg-gradient-to-br from-red-100 to-orange-100 border-2 border-red-400 rounded-lg p-6">
                        <h3 className="text-2xl font-bold text-red-900 mb-4">üì± A Real-World Case You Know</h3>
                        <p className="text-gray-700 mb-4">
                            In 2021, whistleblower <strong>Frances Haugen</strong> testified before the U.S. Congress, revealing 
                            Meta's (Facebook/Instagram) internal research showing that:
                        </p>
                        <ul className="space-y-2 text-gray-700 mb-4">
                            <li>‚Ä¢ <strong>Instagram worsened body image issues, anxiety, depression, and self-harm risk</strong> for adolescent girls</li>
                            <li>‚Ä¢ These harms were <strong>mechanistically linked to engagement-maximizing features</strong></li>
                            <li>‚Ä¢ <strong>Executives knew</strong> but chose not to implement changes (citing reduced engagement/profit)</li>
                        </ul>
                        <div className="bg-white border-l-4 border-red-600 p-4 rounded">
                            <p className="text-sm text-gray-800 font-semibold">
                                The Ethical Question: Was Meta's behavior ethically permissible given that users 
                                voluntarily chose to engage with its platforms, even when the company knew its 
                                systems were degrading users' psychological well-being?
                            </p>
                        </div>
                    </div>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-6">
                        <h4 className="font-bold text-blue-900 mb-2">Why This Case Matters for You</h4>
                        <p className="text-sm text-gray-700">
                            Most of you use Instagram, TikTok, or similar platforms daily. You've probably felt the pull to 
                            "just scroll a bit more" even when you know you should stop. This case study shows you 
                            <strong> what's actually happening</strong> - not to blame you, but to give you tools to understand 
                            and defend against coherence extraction.
                        </p>
                    </div>

                    <div className="bg-purple-50 border-2 border-purple-300 rounded-lg p-6">
                        <h4 className="font-bold text-purple-900 mb-3">The Coherence Framework Applied</h4>
                        <p className="text-gray-700 mb-3">
                            Traditional ethics might ask: "Is Instagram morally wrong?" or "Do users consent?"
                        </p>
                        <p className="text-gray-700 mb-3">
                            <strong>Coherence analysis asks:</strong> "Which coherence dimensions does Instagram systematically 
                            compromise? What happens when those dimensions break down? Can meaningful consent exist when 
                            the conditions for reflective choice are being degraded?"
                        </p>
                        <p className="text-gray-700 font-semibold">
                            This is an OS2-level question - we're analyzing how the system affects the conditions under which 
                            ethical reasoning is possible at all.
                        </p>
                    </div>
                </div>
            );

            // PHASE 1: DIMENSION ANALYSIS
            const DimensionAnalysisPhase = () => {
                const dimensions = [
                    {
                        id: 'BRC',
                        name: 'Biological-Regulatory Coherence',
                        icon: 'ü´Ä',
                        description: 'Emotional regulation, stress management, sleep',
                        metaCompromises: [
                            'Sleep disruption from late-night scrolling',
                            'Chronic stress and anxiety from social comparison',
                            'Dopamine hijacking through intermittent reinforcement',
                            'Emotional dysregulation from curated "perfect" lives'
                        ],
                        evidence: 'Internal Meta research showed increased anxiety and depression correlated with usage time'
                    },
                    {
                        id: 'CIC',
                        name: 'Cognitive-Informational Coherence',
                        icon: 'üß†',
                        description: 'Mental bandwidth, ability to process complexity',
                        metaCompromises: [
                            'Attentional hijacking through infinite scroll',
                            'Cognitive overload from rapid content switching',
                            'Reduced reflection time',
                            'Context collapse (everything flattened to feed)'
                        ],
                        evidence: 'Algorithm maximizes salience, not meaning - overwhelming cognitive capacity'
                    },
                    {
                        id: 'KIC',
                        name: 'Kernel Identity Coherence',
                        icon: 'üé≠',
                        description: 'Integrated sense of self',
                        metaCompromises: [
                            'Identity tied to engagement metrics (likes, follows)',
                            'Performative self-presentation required',
                            'Fragmentation across different audience contexts',
                            'Self-worth dependent on external validation'
                        ],
                        evidence: 'Adolescents reported feeling "alienated from own bodies" despite recognizing harm'
                    },
                    {
                        id: 'TNC',
                        name: 'Temporal-Narrative Coherence',
                        icon: '‚è≥',
                        description: 'Time horizon, long-term thinking',
                        metaCompromises: [
                            'Collapsed to perpetual present',
                            'Immediate validation outweighs long-term well-being',
                            'Future consequences cognitively inaccessible',
                            'Repeated failed intentions to disengage'
                        ],
                        evidence: 'Users report knowing it\'s harmful but being unable to stop - TNC collapse'
                    },
                    {
                        id: 'ISC',
                        name: 'Institutional-Structural Coherence',
                        icon: 'üèõÔ∏è',
                        description: 'Supportive vs. extractive institutions',
                        metaCompromises: [
                            'Institution rewards engagement regardless of harm',
                            'Executives punish internal dissent',
                            'Psychological costs externalized to users',
                            'Plausible deniability through "user choice" rhetoric'
                        ],
                        evidence: 'Frances Haugen testimony revealed executives chose profit over user well-being'
                    }
                ];

                return (
                    <div className="space-y-6">
                        <div className="bg-purple-50 border-2 border-purple-300 rounded-lg p-6">
                            <h3 className="text-xl font-bold text-purple-900 mb-3">Your Task: Analyze Each Dimension</h3>
                            <p className="text-gray-700 mb-3">
                                For each coherence dimension, identify HOW Instagram/Meta compromises it. Click "Analyze" 
                                on each dimension to see the evidence, then mark it as "Compromised" or "Not Compromised."
                            </p>
                            <div className="bg-white rounded-lg p-3 mt-3">
                                <p className="text-sm font-semibold text-gray-700 mb-2">Progress:</p>
                                <div className="flex space-x-2">
                                    {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].map(dim => (
                                        <div
                                            key={dim}
                                            className={`flex-1 h-2 rounded ${
                                                dimensionAnalysis[dim] !== undefined
                                                    ? 'bg-green-500'
                                                    : 'bg-gray-300'
                                            }`}
                                            title={dim}
                                        />
                                    ))}
                                </div>
                                <p className="text-xs text-gray-600 mt-1">
                                    {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].filter(dim => dimensionAnalysis[dim] !== undefined).length} of 5 dimensions analyzed
                                </p>
                                
                                {/* DEBUG INFO */}
                                <details className="mt-3 text-xs">
                                    <summary className="cursor-pointer text-blue-600">üêõ Debug Info (click to expand)</summary>
                                    <div className="mt-2 bg-gray-100 p-2 rounded font-mono">
                                        <p>Current state:</p>
                                        <pre className="whitespace-pre-wrap">{JSON.stringify(dimensionAnalysis, null, 2)}</pre>
                                        <p className="mt-2">Progress check:</p>
                                        <ul>
                                            {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].map(dim => (
                                                <li key={dim}>
                                                    {dim}: {dimensionAnalysis[dim] !== undefined ? '‚úì' : '‚úó'} 
                                                    (value: {JSON.stringify(dimensionAnalysis[dim])})
                                                </li>
                                            ))}
                                        </ul>
                                        <p className="mt-2 font-bold">
                                            Can progress: {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].every(dim => dimensionAnalysis[dim] !== undefined) ? 'YES ‚úì' : 'NO ‚úó'}
                                        </p>
                                    </div>
                                </details>
                            </div>
                        </div>

                        {dimensions.map(dimension => {
                            const isAnalyzed = dimensionAnalysis[dimension.id] !== undefined;
                            const isCompromised = dimensionAnalysis[dimension.id] === true;

                            return (
                                <div key={dimension.id} className="bg-white border-2 border-gray-300 rounded-lg p-6">
                                    <div className="flex items-center justify-between mb-4">
                                        <div className="flex items-center space-x-3">
                                            <span className="text-4xl">{dimension.icon}</span>
                                            <div>
                                                <h4 className="text-lg font-bold text-gray-900">{dimension.id}: {dimension.name}</h4>
                                                <p className="text-sm text-gray-600">{dimension.description}</p>
                                            </div>
                                        </div>
                                        {isAnalyzed && (
                                            <div className={`px-4 py-2 rounded-lg font-bold ${
                                                isCompromised ? 'bg-red-100 text-red-900' : 'bg-green-100 text-green-900'
                                            }`}>
                                                {isCompromised ? '‚ö†Ô∏è Compromised' : '‚úì Intact'}
                                            </div>
                                        )}
                                    </div>

                                    {!isAnalyzed && (
                                        <button
                                            onClick={() => {
                                                // Show the analysis for this dimension
                                                const newAnalysis = {...dimensionAnalysis};
                                                newAnalysis[`${dimension.id}_expanded`] = true;
                                                setDimensionAnalysis(newAnalysis);
                                            }}
                                            className="w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                                        >
                                            üîç Analyze This Dimension
                                        </button>
                                    )}

                                    {dimensionAnalysis[`${dimension.id}_expanded`] && (
                                        <div className="mt-4 space-y-4">
                                            <div className="bg-red-50 border-l-4 border-red-500 p-4">
                                                <h5 className="font-bold text-red-900 mb-2">How Meta Compromises {dimension.id}:</h5>
                                                <ul className="space-y-1 text-sm text-gray-700">
                                                    {dimension.metaCompromises.map((compromise, i) => (
                                                        <li key={i}>‚Ä¢ {compromise}</li>
                                                    ))}
                                                </ul>
                                            </div>

                                            <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                                                <h5 className="font-bold text-blue-900 mb-2">Evidence:</h5>
                                                <p className="text-sm text-gray-700">{dimension.evidence}</p>
                                            </div>

                                            <div className="flex space-x-4">
                                                <button
                                                    onClick={() => {
                                                        console.log('[META CASE] Before update - dimensionAnalysis:', dimensionAnalysis);
                                                        const newState = {...dimensionAnalysis, [dimension.id]: true};
                                                        console.log('[META CASE] Setting', dimension.id, 'to true');
                                                        console.log('[META CASE] New state will be:', newState);
                                                        setDimensionAnalysis(newState);
                                                    }}
                                                    className="flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700"
                                                >
                                                    Mark as Compromised
                                                </button>
                                                <button
                                                    onClick={() => {
                                                        console.log('[META CASE] Before update - dimensionAnalysis:', dimensionAnalysis);
                                                        const newState = {...dimensionAnalysis, [dimension.id]: false};
                                                        console.log('[META CASE] Setting', dimension.id, 'to false');
                                                        console.log('[META CASE] New state will be:', newState);
                                                        setDimensionAnalysis(newState);
                                                    }}
                                                    className="flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700"
                                                >
                                                    Mark as Intact
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}

                        {(() => {
                            const dimensions = ['BRC', 'KIC', 'CIC', 'ISC', 'TNC'];
                            const allAnalyzed = dimensions.every(dim => dimensionAnalysis[dim] !== undefined);
                            
                            if (allAnalyzed) {
                                const compromisedCount = dimensions.filter(dim => dimensionAnalysis[dim] === true).length;
                                return (
                                    <div className="bg-green-50 border-2 border-green-400 rounded-lg p-6">
                                        <h4 className="font-bold text-green-900 mb-2">‚úì Analysis Complete</h4>
                                        <p className="text-sm text-gray-700 mb-3">
                                            You've analyzed all 5 dimensions. Notice how systematic the extraction is - 
                                            Meta compromises multiple coherence dimensions simultaneously.
                                        </p>
                                        <p className="text-sm text-gray-700 font-semibold">
                                            Summary: {compromisedCount} of 5 dimensions identified as compromised.
                                        </p>
                                    </div>
                                );
                            }
                            return null;
                        })()}
                    </div>
                );
            };

            // PHASE 2: TOULMIN CONSTRUCTION
            const ToulminPhase = () => {
                const showAdditionalFields = toulminConstruction.claim.length > 20;
                
                return (
                    <div className="space-y-6">
                        <div className="bg-blue-50 border-2 border-blue-300 rounded-lg p-6">
                            <h3 className="text-xl font-bold text-blue-900 mb-3">Build Meta's Implicit Ethical Argument</h3>
                            <p className="text-gray-700 mb-3">
                                Meta never explicitly stated: "It's ethical to extract users' coherence for profit." 
                                But their actions implied an argument. Let's reconstruct it using Toulmin's framework.
                            </p>
                            <p className="text-sm text-gray-600">
                                Think about what Meta would need to claim, and what grounds/warrants would support that claim.
                            </p>
                        </div>

                        <div className="space-y-4">
                            <div className="bg-white border-2 border-blue-300 rounded-lg p-6">
                                <h4 className="font-bold text-blue-900 mb-3">üìç CLAIM: What is Meta's implicit ethical claim?</h4>
                                <p className="text-sm text-gray-600 mb-3">
                                    Example: "It's ethically permissible to maximize engagement even when it harms users' 
                                    psychological well-being"
                                </p>
                                <textarea
                                    className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none"
                                    rows="3"
                                    placeholder="Write Meta's implicit ethical claim here..."
                                    value={toulminConstruction.claim}
                                    onChange={(e) => setToulminConstruction({...toulminConstruction, claim: e.target.value})}
                                />
                                {!showAdditionalFields && (
                                    <p className="text-xs text-gray-500 mt-2">
                                        Write at least 20 characters to unlock the next sections
                                    </p>
                                )}
                            </div>

                            {/* Always render but control visibility with opacity and pointer-events */}
                            <div style={{ 
                                opacity: showAdditionalFields ? 1 : 0.3,
                                pointerEvents: showAdditionalFields ? 'auto' : 'none',
                                transition: 'opacity 0.3s ease'
                            }}>
                                <div className="bg-white border-2 border-green-300 rounded-lg p-6">
                                    <h4 className="font-bold text-green-900 mb-3">üîç GROUNDS: What evidence supports this claim?</h4>
                                    <p className="text-sm text-gray-600 mb-3">
                                        What facts or observations would Meta point to? (Check all that apply)
                                    </p>
                                    {[
                                        'Users voluntarily sign up and continue using the platform',
                                        'Terms of service are publicly available',
                                        'Users can delete their accounts at any time',
                                        'Platform provides value (social connection, entertainment)',
                                        'Engagement metrics show users "enjoy" the platform',
                                        'Other companies do the same thing'
                                    ].map((ground, i) => (
                                        <label key={i} className="flex items-start space-x-2 mb-2">
                                            <input
                                                type="checkbox"
                                                className="mt-1"
                                                checked={toulminConstruction.grounds.includes(ground)}
                                                onChange={(e) => {
                                                    const newGrounds = e.target.checked
                                                        ? [...toulminConstruction.grounds, ground]
                                                        : toulminConstruction.grounds.filter(g => g !== ground);
                                                    setToulminConstruction({...toulminConstruction, grounds: newGrounds});
                                                }}
                                            />
                                            <span className="text-sm text-gray-700">{ground}</span>
                                        </label>
                                    ))}
                                </div>

                                <div className="bg-white border-2 border-purple-300 rounded-lg p-6 mt-4">
                                    <h4 className="font-bold text-purple-900 mb-3">üîó WARRANT: What connects grounds to claim?</h4>
                                    <p className="text-sm text-gray-600 mb-3">
                                        What principle or reasoning links the evidence to the conclusion?
                                    </p>
                                    <textarea
                                        className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                        rows="3"
                                        placeholder="Example: 'If users voluntarily choose to use a platform, then the platform bears no responsibility for harms...'"
                                        value={toulminConstruction.warrant}
                                        onChange={(e) => setToulminConstruction({...toulminConstruction, warrant: e.target.value})}
                                    />
                                </div>

                                <div className="bg-red-50 border-2 border-red-300 rounded-lg p-6 mt-4">
                                    <h4 className="font-bold text-red-900 mb-3">üö´ REBUTTALS: Where does this argument fail?</h4>
                                    <p className="text-sm text-gray-600 mb-3">
                                        Using coherence analysis, identify the weaknesses:
                                    </p>
                                    {[
                                        '"Voluntary use" assumes intact coherence - but Meta systematically degrades it',
                                        'Cannot consent to something that undermines capacity to consent',
                                        'Terms of service assume users can parse 10,000+ words of legalese',
                                        'Platform provides value AND extracts coherence - net harm question',
                                        'Other companies doing it doesn\'t make it ethical',
                                        'Engagement metrics measure addiction, not flourishing'
                                    ].map((rebuttal, i) => (
                                        <label key={i} className="flex items-start space-x-2 mb-2">
                                            <input
                                                type="checkbox"
                                                className="mt-1"
                                                checked={toulminConstruction.rebuttals.includes(rebuttal)}
                                                onChange={(e) => {
                                                    const newRebuttals = e.target.checked
                                                        ? [...toulminConstruction.rebuttals, rebuttal]
                                                        : toulminConstruction.rebuttals.filter(r => r !== rebuttal);
                                                    setToulminConstruction({...toulminConstruction, rebuttals: newRebuttals});
                                                }}
                                            />
                                            <span className="text-sm text-gray-700">{rebuttal}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // PHASE 3: PERSONAL APPLICATION
            const PersonalApplicationPhase = () => {
                const platforms = [
                    { id: 'instagram', name: 'Instagram', icon: 'üì∑' },
                    { id: 'tiktok', name: 'TikTok', icon: 'üéµ' },
                    { id: 'twitter', name: 'Twitter/X', icon: 'üê¶' },
                    { id: 'facebook', name: 'Facebook', icon: 'üë•' },
                    { id: 'snapchat', name: 'Snapchat', icon: 'üëª' }
                ];

                return (
                    <div className="space-y-6">
                        <div className="bg-yellow-50 border-2 border-yellow-400 rounded-lg p-6">
                            <h3 className="text-xl font-bold text-yellow-900 mb-3">üì± Assess YOUR Social Media Coherence</h3>
                            <p className="text-gray-700 mb-3">
                                This isn't about judgment - it's about self-knowledge. For the platform you use most, 
                                rate how it affects each coherence dimension.
                            </p>
                            <p className="text-sm text-gray-600">
                                1 = Strongly preserves, 3 = Neutral, 5 = Strongly compromises
                            </p>
                        </div>

                        <div className="bg-white border-2 border-gray-300 rounded-lg p-6">
                            <h4 className="font-bold mb-3">Select Your Primary Platform:</h4>
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-3">
                                {platforms.map(platform => (
                                    <button
                                        key={platform.id}
                                        onClick={() => setPersonalAssessment({...personalAssessment, platform: platform.id})}
                                        className={`p-4 border-2 rounded-lg text-center ${
                                            personalAssessment.platform === platform.id
                                                ? 'border-purple-500 bg-purple-50'
                                                : 'border-gray-300 hover:border-gray-400'
                                        }`}
                                    >
                                        <div className="text-3xl mb-1">{platform.icon}</div>
                                        <div className="text-sm font-semibold">{platform.name}</div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {personalAssessment.platform && (
                            <div className="space-y-4">
                                {['BRC', 'CIC', 'KIC', 'TNC', 'ISC'].map(dim => {
                                    const labels = {
                                        BRC: 'Sleep, stress, emotional regulation',
                                        CIC: 'Mental clarity, ability to focus',
                                        KIC: 'Authentic self vs. performative self',
                                        TNC: 'Long-term thinking vs. immediate gratification',
                                        ISC: 'Platform supports your goals vs. exploits you'
                                    };

                                    return (
                                        <div key={dim} className="bg-gray-50 border-2 border-gray-300 rounded-lg p-6">
                                            <div className="flex justify-between items-center mb-3">
                                                <div>
                                                    <h5 className="font-bold text-gray-900">{dim}</h5>
                                                    <p className="text-sm text-gray-600">{labels[dim]}</p>
                                                </div>
                                                <span className="text-2xl font-bold text-purple-600">
                                                    {personalAssessment[dim] || '?'}
                                                </span>
                                            </div>
                                            <div className="flex items-center space-x-3">
                                                <span className="text-xs font-semibold text-green-700">Preserves</span>
                                                <input
                                                    type="range"
                                                    min="1"
                                                    max="5"
                                                    value={personalAssessment[dim] || 3}
                                                    onChange={(e) => setPersonalAssessment({
                                                        ...personalAssessment,
                                                        [dim]: parseInt(e.target.value)
                                                    })}
                                                    className="flex-1"
                                                />
                                                <span className="text-xs font-semibold text-red-700">Compromises</span>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}

                        {(() => {
                            const dimensions = ['BRC', 'CIC', 'KIC', 'TNC', 'ISC'];
                            const allRated = personalAssessment.platform && 
                                           dimensions.every(dim => personalAssessment[dim] !== undefined);
                            
                            if (allRated) {
                                const avgScore = dimensions.reduce((sum, dim) => sum + personalAssessment[dim], 0) / 5;
                                const highCompromise = dimensions.filter(dim => personalAssessment[dim] >= 4);
                                
                                return (
                                    <div className="bg-blue-50 border-2 border-blue-400 rounded-lg p-6">
                                        <h4 className="font-bold text-blue-900 mb-3">Your Coherence Assessment Results</h4>
                                        <div className="grid md:grid-cols-2 gap-4 mb-4">
                                            <div>
                                                <p className="text-sm font-semibold text-gray-700 mb-2">Dimensions Most Compromised:</p>
                                                <ul className="text-sm text-gray-700 space-y-1">
                                                    {highCompromise.length > 0 ? (
                                                        highCompromise.map(dim => (
                                                            <li key={dim}>‚Ä¢ {dim} (Score: {personalAssessment[dim]}/5)</li>
                                                        ))
                                                    ) : (
                                                        <li className="text-green-700">None severely compromised!</li>
                                                    )}
                                                </ul>
                                            </div>
                                            <div>
                                                <p className="text-sm font-semibold text-gray-700 mb-2">Overall Pattern:</p>
                                                <p className="text-sm text-gray-700">
                                                    Average score: {avgScore.toFixed(1)}/5
                                                </p>
                                                <p className="text-xs text-gray-600 mt-2">
                                                    {avgScore >= 3.5
                                                        ? 'Significant coherence extraction detected. Consider limiting use or changing platforms.'
                                                        : 'Moderate impact. Stay aware of how it affects you.'}
                                                </p>
                                            </div>
                                        </div>
                                        <div className="bg-white border-l-4 border-blue-600 p-4">
                                            <p className="text-sm text-gray-700">
                                                <strong>Remember:</strong> This isn't about moral judgment. It's about understanding 
                                                how systems affect YOUR coherence. Armed with this knowledge, you can make informed choices 
                                                about when/how/whether to engage.
                                            </p>
                                        </div>
                                    </div>
                                );
                            }
                            return null;
                        })()}
                    </div>
                );
            };

            // PHASE 4: SYNTHESIS
            const SynthesisPhase = () => (
                <div className="space-y-6">
                    <div className="bg-gradient-to-br from-purple-100 to-blue-100 border-2 border-purple-400 rounded-lg p-6">
                        <h3 className="text-2xl font-bold text-purple-900 mb-4">üéØ Key Takeaways</h3>
                        
                        <div className="space-y-4">
                            <div className="bg-white border-l-4 border-purple-600 p-4 rounded">
                                <h4 className="font-bold text-purple-900 mb-2">1. Coherence Extraction is Systematic</h4>
                                <p className="text-sm text-gray-700">
                                    Meta doesn't just harm ONE dimension - it compromises ALL FIVE simultaneously. 
                                    This isn't accidental; it's how engagement optimization works.
                                </p>
                            </div>

                            <div className="bg-white border-l-4 border-blue-600 p-4 rounded">
                                <h4 className="font-bold text-blue-900 mb-2">2. "Voluntary Use" Requires Intact Coherence</h4>
                                <p className="text-sm text-gray-700">
                                    You can't consent to something that systematically undermines your capacity to consent. 
                                    Traditional ethics focused on consent assumes coherence - but what happens when consent 
                                    itself requires the very capacities being extracted?
                                </p>
                            </div>

                            <div className="bg-white border-l-4 border-green-600 p-4 rounded">
                                <h4 className="font-bold text-green-900 mb-2">3. This Isn't About Individual Moral Failure</h4>
                                <p className="text-sm text-gray-700">
                                    If you struggle to put your phone down, it's not because you're weak. It's because 
                                    billion-dollar companies employ teams of engineers to make it as difficult as possible. 
                                    Agency hijacking isn't a moral defect - it's a structural vulnerability.
                                </p>
                            </div>

                            <div className="bg-white border-l-4 border-yellow-600 p-4 rounded">
                                <h4 className="font-bold text-yellow-900 mb-2">4. Responsibility Shifts to Designers</h4>
                                <p className="text-sm text-gray-700">
                                    When systems extract coherence faster than individuals can restore it, ethical responsibility 
                                    moves from users to designers, institutions, and regulators. This is a design ethics problem, 
                                    not just an individual ethics problem.
                                </p>
                            </div>
                        </div>
                    </div>

                    <button
                        onClick={() => setShowBiologicalAnalogue(!showBiologicalAnalogue)}
                        className="w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700"
                    >
                        {showBiologicalAnalogue ? '‚ñº' : '‚ñ∂'} Optional: Biological Analogues (Advanced)
                    </button>

                    {showBiologicalAnalogue && (
                        <div className="bg-indigo-50 border-2 border-indigo-400 rounded-lg p-6">
                            <h4 className="font-bold text-indigo-900 mb-3">üî¨ Cross-Level Pattern: Agency Hijacking</h4>
                            <p className="text-gray-700 mb-4">
                                This pattern isn't unique to technology. It appears across biological levels:
                            </p>

                            <div className="space-y-4">
                                <div className="bg-white p-4 rounded border-l-4 border-indigo-600">
                                    <h5 className="font-bold text-indigo-900 mb-2">Horsehair Worm ‚Üí Cricket</h5>
                                    <p className="text-sm text-gray-700">
                                        Parasite alters cricket's neurochemistry. Cricket "voluntarily" enters water 
                                        (which crickets normally avoid), where worm emerges. Cricket's motor control intact, 
                                        but internal valuation system reprogrammed to serve parasite's reproductive needs.
                                    </p>
                                </div>

                                <div className="bg-white p-4 rounded border-l-4 border-indigo-600">
                                    <h5 className="font-bold text-indigo-900 mb-2">HIV ‚Üí Immune System</h5>
                                    <p className="text-sm text-gray-700">
                                        Virus doesn't destroy immune cells - it exploits regulatory pathways, induces tolerance, 
                                        reprograms signaling. Immune system continues functioning but in degraded mode benefiting pathogen.
                                    </p>
                                </div>

                                <div className="bg-white p-4 rounded border-l-4 border-indigo-600">
                                    <h5 className="font-bold text-indigo-900 mb-2">Meta ‚Üí User</h5>
                                    <p className="text-sm text-gray-700">
                                        Platform doesn't force engagement - it alters attentional salience, reward timing, 
                                        identity validation loops. Users act in ways contrary to own interests while feeling 
                                        internally motivated.
                                    </p>
                                </div>
                            </div>

                            <div className="bg-yellow-50 border-l-4 border-yellow-600 p-4 mt-4">
                                <p className="text-sm font-semibold text-gray-800">
                                    Important: This is NOT saying "Meta is a parasite" (moral accusation). It's identifying 
                                    a STRUCTURAL PATTERN: internal control systems repurposed for external optimization goals. 
                                    Different substrates, same vulnerability. This is OS2-level analysis.
                                </p>
                            </div>
                        </div>
                    )}

                    <div className="bg-green-50 border-2 border-green-400 rounded-lg p-6">
                        <h4 className="font-bold text-green-900 mb-3">üí° What Would Coherence-Preserving Design Look Like?</h4>
                        <p className="text-gray-700 mb-3">Discussion questions for next class:</p>
                        <ul className="space-y-2 text-gray-700 text-sm">
                            <li>‚Ä¢ Could social media exist without engagement optimization?</li>
                            <li>‚Ä¢ What business models support coherence rather than extracting it?</li>
                            <li>‚Ä¢ Should platforms be legally required to protect user coherence?</li>
                            <li>‚Ä¢ How would you redesign Instagram to preserve all 5 dimensions?</li>
                            <li>‚Ä¢ What role should government regulation play?</li>
                        </ul>
                    </div>
                </div>
            );

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        Case Study: Meta & Coherence Extraction
                    </h2>
                    
                    <div className="flex space-x-2 mb-6">
                        {phases.map((phase, idx) => (
                            <button
                                key={idx}
                                onClick={() => currentPhase > idx && setCurrentPhase(idx)}
                                disabled={currentPhase < idx}
                                className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${
                                    currentPhase === idx 
                                        ? 'bg-purple-600 text-white' 
                                        : currentPhase > idx
                                        ? 'bg-green-100 text-green-800 hover:bg-green-200'
                                        : 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                }`}
                            >
                                {currentPhase > idx && '‚úì '}
                                {phase.title}
                            </button>
                        ))}
                    </div>

                    <div className="mb-6">
                        {currentPhase === 0 && <BackgroundPhase />}
                        {currentPhase === 1 && <DimensionAnalysisPhase />}
                        {currentPhase === 2 && <ToulminPhase />}
                        {currentPhase === 3 && <PersonalApplicationPhase />}
                        {currentPhase === 4 && <SynthesisPhase />}
                    </div>

                    <div className="flex justify-between">
                        <button
                            onClick={() => setCurrentPhase(Math.max(0, currentPhase - 1))}
                            disabled={currentPhase === 0}
                            className={`px-6 py-3 rounded-lg font-semibold ${
                                currentPhase === 0
                                    ? 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                    : 'bg-gray-300 hover:bg-gray-400'
                            }`}
                        >
                            ‚Üê Previous
                        </button>
                        
                        <div className="flex flex-col items-end">
                            {currentPhase < phases.length - 1 ? (
                                <>
                                    <button
                                        onClick={() => {
                                            console.log('[META CASE] Next button clicked, canProgress:', canProgressPhase());
                                            if (canProgressPhase()) {
                                                setCurrentPhase(currentPhase + 1);
                                            }
                                        }}
                                        disabled={!canProgressPhase()}
                                        className={`px-6 py-3 rounded-lg font-semibold ${
                                            canProgressPhase()
                                                ? 'bg-purple-600 text-white hover:bg-purple-700'
                                                : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                        }`}
                                    >
                                        Next ‚Üí
                                    </button>
                                    {!canProgressPhase() && (
                                        <p className="text-xs text-gray-500 mt-1">
                                            {currentPhase === 1 && 'Complete all 5 dimension analyses to continue'}
                                            {currentPhase === 2 && 'Write your claim (20+ characters) to continue'}
                                            {currentPhase === 3 && 'Select platform and rate all 5 dimensions to continue'}
                                        </p>
                                    )}
                                    {/* DEBUG: Show actual progress state */}
                                    <details className="text-xs mt-1">
                                        <summary className="cursor-pointer text-blue-600">üêõ Debug Next Button</summary>
                                        <div className="bg-gray-100 p-2 rounded mt-1 font-mono text-left">
                                            <p>Phase: {currentPhase} ({phases[currentPhase].title})</p>
                                            <p>canProgressPhase(): {canProgressPhase() ? 'true ‚úì' : 'false ‚úó'}</p>
                                            <p>Button disabled: {!canProgressPhase() ? 'YES' : 'NO'}</p>
                                        </div>
                                    </details>
                                </>
                            ) : (
                                <button
                                    onClick={() => { onComplete(); onNext(); }}
                                    className="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                                >
                                    Continue to Toulmin + Coherence ‚Üí
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // TOULMIN + COHERENCE INTEGRATION SECTION - THE POWER MOVE
        function ToulminCoherenceSection({ onComplete, onNext }) {
            const [currentStep, setCurrentStep] = useState(0);
            const [practiceAnswers, setPracticeAnswers] = useState({});

            const steps = [
                {
                    title: "The Integration: Why Toulmin + Coherence?",
                    content: (
                        <div className="space-y-4">
                            <p className="text-gray-700 text-lg">
                                Toulmin analysis breaks arguments into 6 components. But <strong>when do those components work?</strong>
                            </p>
                            <div className="bg-gradient-to-br from-purple-100 to-blue-100 border-2 border-purple-300 rounded-lg p-6">
                                <h4 className="font-bold text-purple-900 mb-3">The Key Insight</h4>
                                <p className="text-gray-700">
                                    Each Toulmin component requires specific coherence conditions to function. When those conditions break down,
                                    that part of the argument becomes inaccessible‚Äînot because it's wrong, but because you lack the capacity to process it.
                                </p>
                            </div>
                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                                <p className="text-sm text-gray-700">
                                    <strong>Example:</strong> You can have perfect evidence (Grounds), but if you're sleep-deprived (BRC breakdown),
                                    you literally can't process it. The argument isn't bad‚Äîyour coherence state makes it invisible.
                                </p>
                            </div>
                        </div>
                    )
                },
                {
                    title: "Mapping Toulmin to Coherence",
                    content: (
                        <div className="space-y-4">
                            <div className="space-y-3">
                                {[
                                    {
                                        component: "GROUNDS (Evidence)",
                                        coherence: "BRC + CIC",
                                        explanation: "Requires regulated perception (BRC) and cognitive capacity to process information (CIC)",
                                        breakdown: "Sleep-deprived? Can't accurately perceive or evaluate evidence.",
                                        color: "blue"
                                    },
                                    {
                                        component: "WARRANT (Reasoning Link)",
                                        coherence: "CIC",
                                        explanation: "Requires cognitive capacity for logical reasoning",
                                        breakdown: "Cognitively overloaded? Can't connect evidence to claim logically.",
                                        color: "yellow"
                                    },
                                    {
                                        component: "BACKING (Support for Warrant)",
                                        coherence: "ISC + Cons",
                                        explanation: "Requires institutional support and persistent practices that make warrant credible",
                                        breakdown: "Traditions lost? Warrants don't resonate. No shared foundation.",
                                        color: "green"
                                    },
                                    {
                                        component: "QUALIFIER (Confidence Level)",
                                        coherence: "ALL dimensions to varying degrees",
                                        explanation: "More intact dimensions = higher justified confidence in claim",
                                        breakdown: "Multiple dimensions compromised? Can't assess confidence accurately.",
                                        color: "purple"
                                    },
                                    {
                                        component: "REBUTTALS (Counterarguments)",
                                        coherence: "TNC + KIC",
                                        explanation: "Requires time to consider alternatives (TNC) and stable identity to hear challenges (KIC)",
                                        breakdown: "Identity threat? Can't hear objections. Time pressure? Can't consider alternatives.",
                                        color: "orange"
                                    },
                                    {
                                        component: "CLAIM (Conclusion)",
                                        coherence: "Depends on all above",
                                        explanation: "The claim's accessibility depends on whether you can process all supporting components",
                                        breakdown: "If any upstream component fails, claim becomes inaccessible.",
                                        color: "red"
                                    }
                                ].map((item, i) => {
                                    const colorClasses = {
                                        blue: 'bg-blue-50 border-blue-400',
                                        yellow: 'bg-yellow-50 border-yellow-400',
                                        green: 'bg-green-50 border-green-400',
                                        purple: 'bg-purple-50 border-purple-400',
                                        orange: 'bg-orange-50 border-orange-400',
                                        red: 'bg-red-50 border-red-400'
                                    };
                                    return (
                                        <div key={i} className={`border-2 rounded-lg p-4 ${colorClasses[item.color]}`}>
                                            <h5 className="font-bold text-gray-900 mb-2">{item.component}</h5>
                                            <p className="text-sm text-gray-700 mb-2">
                                                <strong>Requires:</strong> {item.coherence}
                                            </p>
                                            <p className="text-sm text-gray-600 mb-2">{item.explanation}</p>
                                            <p className="text-xs text-red-700 italic">
                                                <strong>When it breaks:</strong> {item.breakdown}
                                            </p>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    )
                },
                {
                    title: "Practice: Diagnose Coherence Breakdowns",
                    content: (
                        <div className="space-y-6">
                            <div className="bg-blue-50 border-2 border-blue-400 rounded-lg p-6">
                                <h4 className="font-bold text-blue-900 mb-3">Scenario</h4>
                                <p className="text-gray-700">
                                    A student works 50 hours/week while taking 15 credits. Gets 4-5 hours sleep. High stress.
                                    Reads Kant's categorical imperative but it "doesn't make sense."
                                </p>
                            </div>
                            
                            <div className="space-y-4">
                                <div>
                                    <h5 className="font-bold mb-2">Which coherence dimensions are compromised?</h5>
                                    {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].map(dim => (
                                        <label key={dim} className="flex items-center space-x-2 mb-2">
                                            <input
                                                type="checkbox"
                                                checked={practiceAnswers.dimensions?.includes(dim)}
                                                onChange={(e) => {
                                                    const current = practiceAnswers.dimensions || [];
                                                    setPracticeAnswers({
                                                        ...practiceAnswers,
                                                        dimensions: e.target.checked 
                                                            ? [...current, dim]
                                                            : current.filter(d => d !== dim)
                                                    });
                                                }}
                                            />
                                            <span>{dim}</span>
                                        </label>
                                    ))}
                                </div>

                                <div>
                                    <h5 className="font-bold mb-2">Which Toulmin components fail?</h5>
                                    {['Grounds', 'Warrant', 'Backing', 'Qualifier', 'Rebuttals'].map(comp => (
                                        <label key={comp} className="flex items-center space-x-2 mb-2">
                                            <input
                                                type="checkbox"
                                                checked={practiceAnswers.components?.includes(comp)}
                                                onChange={(e) => {
                                                    const current = practiceAnswers.components || [];
                                                    setPracticeAnswers({
                                                        ...practiceAnswers,
                                                        components: e.target.checked 
                                                            ? [...current, comp]
                                                            : current.filter(c => c !== comp)
                                                    });
                                                }}
                                            />
                                            <span>{comp}</span>
                                        </label>
                                    ))}
                                </div>

                                {(practiceAnswers.dimensions?.length > 0 || practiceAnswers.components?.length > 0) && (
                                    <div className="bg-green-50 border-2 border-green-400 rounded-lg p-4">
                                        <h5 className="font-bold text-green-900 mb-2">Answer Key:</h5>
                                        <p className="text-sm text-gray-700 mb-2">
                                            <strong>Compromised Dimensions:</strong> BRC (sleep/stress), CIC (cognitive overload), TNC (no time for deep thought)
                                        </p>
                                        <p className="text-sm text-gray-700 mb-2">
                                            <strong>Failed Components:</strong> Grounds (can't process evidence), Warrant (can't follow reasoning), Rebuttals (no time for alternatives)
                                        </p>
                                        <p className="text-sm text-gray-700 font-semibold mt-3">
                                            Kant REQUIRES very high CIC. Under these conditions, the categorical imperative is simply inaccessible‚Äî
                                            not because the student is dumb, but because their coherence state won't support that level of reasoning.
                                        </p>
                                    </div>
                                )}
                            </div>
                        </div>
                    )
                },
                {
                    title: "Application: Which Philosophers Become Inaccessible?",
                    content: (
                        <div className="space-y-4">
                            <p className="text-gray-700">
                                Different philosophers require different coherence conditions. Under stress/overload, some frameworks become inaccessible while others remain available:
                            </p>

                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="bg-red-50 border-2 border-red-400 rounded-lg p-4">
                                    <h5 className="font-bold text-red-900 mb-3">HIGH Coherence Requirements</h5>
                                    <p className="text-sm text-gray-700 mb-2">These become inaccessible under stress/overload:</p>
                                    <ul className="text-sm text-gray-700 space-y-1">
                                        <li>‚Ä¢ <strong>Kant:</strong> Very high CIC - needs full rational capacity</li>
                                        <li>‚Ä¢ <strong>Aristotle:</strong> Needs ALL 5 dimensions for virtue development</li>
                                        <li>‚Ä¢ <strong>Bentham:</strong> Very high CIC - felicific calculus is cognitively demanding</li>
                                        <li>‚Ä¢ <strong>Confucius:</strong> Very high ISC/KIC/TNC - requires stable institutions and integrated identity</li>
                                    </ul>
                                </div>

                                <div className="bg-green-50 border-2 border-green-400 rounded-lg p-4">
                                    <h5 className="font-bold text-green-900 mb-3">MODERATE Coherence Requirements</h5>
                                    <p className="text-sm text-gray-700 mb-2">These may remain accessible:</p>
                                    <ul className="text-sm text-gray-700 space-y-1">
                                        <li>‚Ä¢ <strong>Hume:</strong> Based on sentiment - less cognitive demand</li>
                                        <li>‚Ä¢ <strong>Care Ethics:</strong> Relational - can work with moderate CIC</li>
                                        <li>‚Ä¢ <strong>Simpson:</strong> Embodied/practical knowledge - less abstract reasoning</li>
                                    </ul>
                                </div>
                            </div>

                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                                <p className="text-sm font-semibold text-gray-800">
                                    This is why "one size fits all" ethics education fails: it assumes students have identical coherence conditions.
                                    Understanding YOUR coherence state helps you choose frameworks that will actually be accessible to you.
                                </p>
                            </div>
                        </div>
                    )
                }
            ];

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        Toulmin + Coherence Integration
                    </h2>
                    <p className="text-xl text-gray-700 mb-6">
                        Understanding when ethical arguments work‚Äîand for whom
                    </p>

                    <div className="flex space-x-2 mb-6" role="tablist">
                        {steps.map((step, idx) => (
                            <button
                                key={idx}
                                role="tab"
                                aria-selected={currentStep === idx}
                                onClick={() => setCurrentStep(idx)}
                                className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                    currentStep === idx ? 'bg-purple-600 text-white' : 'bg-gray-200 hover:bg-gray-300'
                                }`}
                            >
                                Step {idx + 1}
                            </button>
                        ))}
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-purple-200 rounded-lg p-6 mb-6">
                        <h3 className="text-2xl font-bold text-purple-900 mb-4">{steps[currentStep].title}</h3>
                        {steps[currentStep].content}
                    </div>

                    <div className="flex justify-between">
                        <button
                            onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
                            disabled={currentStep === 0}
                            className={`px-6 py-3 rounded-lg font-semibold transition-colors ${
                                currentStep === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gray-300 hover:bg-gray-400'
                            }`}
                        >
                            ‚Üê Previous
                        </button>
                        {currentStep === steps.length - 1 ? (
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Continue to Modeling ‚Üí
                            </button>
                        ) : (
                            <button
                                onClick={() => setCurrentStep(currentStep + 1)}
                                className="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Next ‚Üí
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        // MODELING SECTION
        function ModelingSection({ studentModels, setStudentModels, onComplete, onNext }) {
            const [showCoherenceAssessment, setShowCoherenceAssessment] = useState(true);
            const [coherenceState, setCoherenceState] = useState({
                BRC: 3, KIC: 3, CIC: 3, ISC: 3, TNC: 3
            });
            const [model, setModel] = useState({
                name: '', IK: '', PRS_t: '', SPTS: [''], AH: '', Capab: '', Cons: ''
            });
            const [submitted, setSubmitted] = useState(false);
            const [showRecommendations, setShowRecommendations] = useState(false);

            const isComplete = model.name && model.IK && model.PRS_t && model.SPTS[0] && model.AH && model.Capab && model.Cons;

            const assessmentComplete = Object.values(coherenceState).every(v => v !== 3);

            const getRecommendations = () => {
                const philosophers = {
                    socrates: { name: "Socrates", req: { BRC: 3, KIC: 4, CIC: 5, ISC: 4, TNC: 3 } },
                    aristotle: { name: "Aristotle", req: { BRC: 4, KIC: 5, CIC: 4, ISC: 5, TNC: 5 } },
                    maathai: { name: "Wangari Maathai", req: { BRC: 4, KIC: 4, CIC: 3, ISC: 5, TNC: 4 } },
                    mandela: { name: "Nelson Mandela", req: { BRC: 5, KIC: 4, CIC: 3, ISC: 5, TNC: 5 } },
                    simpson: { name: "Leanne Betasamosake Simpson", req: { BRC: 3, KIC: 5, CIC: 3, ISC: 5, TNC: 5 } },
                    collins: { name: "Patricia Hill Collins", req: { BRC: 3, KIC: 4, CIC: 4, ISC: 4, TNC: 3 } },
                    augustine: { name: "Augustine", req: { BRC: 3, KIC: 4, CIC: 4, ISC: 5, TNC: 5 } },
                    hume: { name: "David Hume", req: { BRC: 4, KIC: 3, CIC: 4, ISC: 3, TNC: 2 } },
                    kant: { name: "Immanuel Kant", req: { BRC: 2, KIC: 4, CIC: 5, ISC: 3, TNC: 3 } },
                    bentham: { name: "Jeremy Bentham", req: { BRC: 2, KIC: 2, CIC: 5, ISC: 4, TNC: 3 } },
                    nussbaum: { name: "Martha Nussbaum", req: { BRC: 3, KIC: 3, CIC: 4, ISC: 5, TNC: 3 } },
                    confucius: { name: "Confucius", req: { BRC: 4, KIC: 5, CIC: 3, ISC: 5, TNC: 5 } }
                };

                const scores = Object.entries(philosophers).map(([key, phil]) => {
                    const totalDiff = ['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].reduce((sum, dim) => {
                        return sum + Math.abs(coherenceState[dim] - phil.req[dim]);
                    }, 0);
                    return { key, name: phil.name, score: totalDiff, req: phil.req };
                });

                scores.sort((a, b) => a.score - b.score);

                return {
                    mostAccessible: scores.slice(0, 3),
                    leastAccessible: scores.slice(-3).reverse()
                };
            };

            if (showRecommendations) {
                const recs = getRecommendations();
                
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <h2 className="text-3xl font-bold text-gray-900 mb-4">Your Personalized Recommendations</h2>
                        
                        <div className="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
                            <h3 className="font-bold text-blue-900 mb-2">Your Coherence State</h3>
                            <div className="grid grid-cols-5 gap-3">
                                {['BRC', 'KIC', 'CIC', 'ISC', 'TNC'].map(dim => (
                                    <div key={dim} className="text-center">
                                        <div className="font-bold">{dim}</div>
                                        <div className="text-2xl">{coherenceState[dim]}/5</div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-6 mb-6">
                            <div className="bg-green-50 border-2 border-green-400 rounded-lg p-6">
                                <h3 className="text-xl font-bold text-green-900 mb-4">‚úÖ Most Accessible For You</h3>
                                <p className="text-sm text-gray-700 mb-4">
                                    These philosophers' frameworks match your current coherence state:
                                </p>
                                <div className="space-y-3">
                                    {recs.mostAccessible.map((rec, i) => (
                                        <div key={i} className="bg-white p-3 rounded border border-green-300">
                                            <div className="font-bold">{i + 1}. {rec.name}</div>
                                            <div className="text-xs text-gray-600 mt-1">
                                                Match score: {15 - rec.score}/15 (lower difference = better match)
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-red-50 border-2 border-red-400 rounded-lg p-6">
                                <h3 className="text-xl font-bold text-red-900 mb-4">‚ö†Ô∏è Currently Challenging</h3>
                                <p className="text-sm text-gray-700 mb-4">
                                    These frameworks require coherence conditions you don't currently have:
                                </p>
                                <div className="space-y-3">
                                    {recs.leastAccessible.map((rec, i) => (
                                        <div key={i} className="bg-white p-3 rounded border border-red-300">
                                            <div className="font-bold">{rec.name}</div>
                                            <div className="text-xs text-gray-600 mt-1">
                                                Gap: {rec.score} points - would need improved conditions
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-6">
                            <h4 className="font-bold text-yellow-900 mb-2">Important Note</h4>
                            <p className="text-sm text-gray-700">
                                This isn't about which philosophers are "better" - it's about which frameworks are 
                                <strong> accessible to you right now</strong>. As your coherence state changes (better sleep, 
                                less stress, more institutional support), different frameworks become available.
                            </p>
                        </div>

                        <div className="flex space-x-4">
                            <button
                                onClick={() => setShowRecommendations(false)}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 rounded-lg font-semibold"
                            >
                                Back to Assessment
                            </button>
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Continue to Arguments ‚Üí
                            </button>
                        </div>
                    </div>
                );
            }

            if (showCoherenceAssessment) {
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <h2 className="text-3xl font-bold text-gray-900 mb-4">Assess Your Coherence State</h2>
                        <p className="text-lg text-gray-700 mb-6">
                            Rate your current state for each dimension (1 = very low, 5 = very high):
                        </p>

                        <div className="space-y-6 mb-8">
                            {[
                                { key: 'BRC', name: 'Biological-Regulatory Coherence', desc: 'Sleep, stress management, emotional regulation', icon: 'ü´Ä' },
                                { key: 'KIC', name: 'Kernel Identity Coherence', desc: 'Integrated sense of self across contexts', icon: 'üé≠' },
                                { key: 'CIC', name: 'Cognitive-Informational Coherence', desc: 'Mental bandwidth, ability to process complexity', icon: 'üß†' },
                                { key: 'ISC', name: 'Institutional-Structural Coherence', desc: 'Supportive vs. extractive institutions', icon: 'üèõÔ∏è' },
                                { key: 'TNC', name: 'Temporal-Narrative Coherence', desc: 'Time horizon, ability to maintain commitments', icon: '‚è≥' }
                            ].map(dim => (
                                <div key={dim.key} className="bg-gray-50 border-2 border-gray-300 rounded-lg p-6">
                                    <div className="flex items-center space-x-3 mb-3">
                                        <span className="text-3xl">{dim.icon}</span>
                                        <div>
                                            <h4 className="font-bold text-gray-900">{dim.key}: {dim.name}</h4>
                                            <p className="text-sm text-gray-600">{dim.desc}</p>
                                        </div>
                                    </div>
                                    <div className="flex items-center space-x-4">
                                        <span className="text-sm font-semibold w-24">Very Low</span>
                                        <input
                                            type="range"
                                            min="1"
                                            max="5"
                                            value={coherenceState[dim.key]}
                                            onChange={(e) => setCoherenceState({...coherenceState, [dim.key]: parseInt(e.target.value)})}
                                            className="flex-1"
                                        />
                                        <span className="text-sm font-semibold w-24 text-right">Very High</span>
                                        <span className="text-2xl font-bold w-12 text-center">{coherenceState[dim.key]}</span>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {assessmentComplete ? (
                            <button
                                onClick={() => setShowRecommendations(true)}
                                className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Get Personalized Recommendations ‚Üí
                            </button>
                        ) : (
                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                                <p className="text-sm">Adjust all sliders to see your personalized recommendations</p>
                            </div>
                        )}
                    </div>
                );
            }

            if (submitted) {
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-4">‚úÖ</div>
                            <h2 className="text-3xl font-bold text-gray-900 mb-4">Model Created!</h2>
                        </div>

                        <div className="flex space-x-4">
                            <button
                                onClick={() => {
                                    setSubmitted(false);
                                    setModel({ name: '', IK: '', PRS_t: '', SPTS: [''], AH: '', Capab: '', Cons: '' });
                                }}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 rounded-lg font-semibold"
                            >
                                Model Another
                            </button>
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                            >
                                Continue to Arguments ‚Üí
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Build Your Own Model</h2>
                    
                    <div className="space-y-4">
                        <input
                            type="text"
                            placeholder="Name *"
                            className="w-full px-4 py-2 border rounded-lg"
                            value={model.name}
                            onChange={(e) => setModel({...model, name: e.target.value})}
                        />
                        <textarea
                            placeholder="IK: Core commitments *"
                            className="w-full px-4 py-2 border rounded-lg resize-none"
                            rows="2"
                            value={model.IK}
                            onChange={(e) => setModel({...model, IK: e.target.value})}
                        />
                        <textarea
                            placeholder="PRS_t: What's visible to them *"
                            className="w-full px-4 py-2 border rounded-lg resize-none"
                            rows="2"
                            value={model.PRS_t}
                            onChange={(e) => setModel({...model, PRS_t: e.target.value})}
                        />
                        <input
                            type="text"
                            placeholder="SPTS: Standpoint *"
                            className="w-full px-4 py-2 border rounded-lg"
                            value={model.SPTS[0]}
                            onChange={(e) => setModel({...model, SPTS: [e.target.value]})}
                        />
                        <textarea
                            placeholder="AH: Assembly history *"
                            className="w-full px-4 py-2 border rounded-lg resize-none"
                            rows="2"
                            value={model.AH}
                            onChange={(e) => setModel({...model, AH: e.target.value})}
                        />
                        <textarea
                            placeholder="Capab: Reliable methods *"
                            className="w-full px-4 py-2 border rounded-lg resize-none"
                            rows="2"
                            value={model.Capab}
                            onChange={(e) => setModel({...model, Capab: e.target.value})}
                        />
                        <textarea
                            placeholder="Cons: Procedures that persist *"
                            className="w-full px-4 py-2 border rounded-lg resize-none"
                            rows="2"
                            value={model.Cons}
                            onChange={(e) => setModel({...model, Cons: e.target.value})}
                        />
                    </div>

                    <button
                        onClick={() => {
                            if (isComplete) {
                                setStudentModels({...studentModels, [Date.now()]: model});
                                setSubmitted(true);
                            }
                        }}
                        disabled={!isComplete}
                        className={`mt-6 w-full px-6 py-3 rounded-lg font-semibold ${
                            isComplete ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-300 text-gray-500'
                        }`}
                    >
                        {isComplete ? 'Submit Model ‚Üí' : 'Complete Required Fields'}
                    </button>
                </div>
            );
        }

        // ARGUMENT ANALYSIS SECTION
        function ArgumentAnalysisSection({ philosophers, onComplete, onNext }) {
            const [selectedPhil, setSelectedPhil] = useState(null);
            const philosopherList = Object.keys(philosophers);

            if (selectedPhil) {
                const phil = philosophers[selectedPhil];
                const arg = phil.toulminArguments[0];

                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <button
                            onClick={() => setSelectedPhil(null)}
                            className="mb-4 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg"
                        >
                            ‚Üê Back to All
                        </button>

                        <div className="flex items-center space-x-4 mb-6">
                            <div className="text-6xl">{phil.image}</div>
                            <div>
                                <h2 className="text-3xl font-bold text-gray-900">{phil.name}</h2>
                                <p className="text-lg text-gray-600">Toulmin Argument</p>
                            </div>
                        </div>

                        <div className="space-y-6">
                            <div className="bg-blue-50 border-2 border-blue-400 rounded-lg p-6">
                                <h3 className="text-xl font-bold text-blue-900 mb-2">üìç CLAIM</h3>
                                <p className="text-gray-800 font-semibold">{arg.claim}</p>
                            </div>

                            <div className="bg-green-50 border-2 border-green-300 rounded-lg p-6">
                                <h3 className="text-xl font-bold text-green-900 mb-3">üîç GROUNDS</h3>
                                <ul className="space-y-2">
                                    {arg.grounds.map((ground, i) => (
                                        <li key={i} className="text-gray-700">‚Ä¢ {ground}</li>
                                    ))}
                                </ul>
                            </div>

                            <div className="bg-purple-50 border-2 border-purple-300 rounded-lg p-6">
                                <h3 className="text-xl font-bold text-purple-900 mb-3">üîó WARRANT</h3>
                                <p className="text-gray-800">{arg.warrant}</p>
                            </div>
                        </div>

                        <button
                            onClick={() => setSelectedPhil(null)}
                            className="mt-6 w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                        >
                            View Another
                        </button>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Argument Analysis</h2>
                    
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        {philosopherList.map(philKey => {
                            const phil = philosophers[philKey];
                            return (
                                <div key={philKey} className="border-2 border-gray-300 rounded-lg p-6">
                                    <div className="text-center mb-4">
                                        <div className="text-5xl mb-3">{phil.image}</div>
                                        <h3 className="text-xl font-bold">{phil.name}</h3>
                                    </div>
                                    <button
                                        onClick={() => setSelectedPhil(philKey)}
                                        className="w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                                    >
                                        View Argument
                                    </button>
                                </div>
                            );
                        })}
                    </div>

                    <button
                        onClick={() => { onComplete(); onNext(); }}
                        className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700"
                    >
                        Continue to Synthesis ‚Üí
                    </button>
                </div>
            );
        }

        // SYNTHESIS SECTION
        function SynthesisSection({ studentInfo, sessionData, onComplete }) {
            const [reflections, setReflections] = useState({ 
                patterns: '', 
                osInsight: '', 
                application: '',
                coherenceReflection: '',
                personalGrowth: ''
            });
            const [showCert, setShowCert] = useState(false);

            const allComplete = Object.values(reflections).every(r => r.length >= 100);

            const downloadCertificate = () => {
                const cert = `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ETHICAL REASONING FOR THE INFORMATION AGE
  Certificate of Completion
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Student: ${studentInfo.name}
Email: ${studentInfo.email}
Course: ${studentInfo.course}

Session ID: ${sessionData.sessionId}
Completion Date: ${new Date().toLocaleString()}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
ACHIEVEMENTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úì Mastered OS1/OS2 dual-capacity framework
‚úì Understood five coherence dimensions (BRC, KIC, CIC, ISC, TNC)
‚úì Studied 12 diverse philosophical traditions
‚úì Learned Toulmin argument analysis
‚úì Integrated coherence requirements with ethical frameworks
‚úì Completed personal coherence self-assessment
‚úì Analyzed standpoint-dependent ethical reasoning

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
CORE COMPETENCIES DEMONSTRATED
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚Ä¢ Systematic ethical argument analysis (Toulmin method)
‚Ä¢ Recognition of scope conditions for ethical frameworks
‚Ä¢ Understanding when arguments work vs. when they fail
‚Ä¢ Standpoint awareness and epistemic humility
‚Ä¢ Integration of phenomenological and meta-constructor capacities
‚Ä¢ Practical application of coherence framework

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

This certificate verifies that ${studentInfo.name} has completed
comprehensive training in ethical reasoning across difference,
demonstrating both analytical rigor (OS1) and reflective
awareness (OS2) of how coherence conditions shape ethical capacity.

This is not just knowledge of ethics‚Äîthis is practical skill
in navigating ethical coordination challenges in the Information Age.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Ethics Beyond Boundaries Project
Saint Petersburg College Ethics Institute
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;

                const blob = new Blob([cert], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Toulmin_Certificate_${studentInfo.name.replace(/\s+/g, '_')}_${new Date().toISOString().slice(0,10)}.txt`;
                a.click();
                URL.revokeObjectURL(url);
            };

            if (showCert) {
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-4">üéì</div>
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">Congratulations!</h2>
                            <p className="text-xl text-gray-700 mb-2">You've completed the Toulmin Tool</p>
                            <p className="text-lg text-gray-600">Ethical Reasoning for the Information Age</p>
                        </div>

                        <div className="bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-6 mb-6">
                            <h3 className="text-xl font-bold text-purple-900 mb-3">What You've Mastered</h3>
                            <div className="grid md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <div className="font-semibold mb-2">Analytical Skills:</div>
                                    <ul className="space-y-1 text-gray-700">
                                        <li>‚Ä¢ Toulmin argument analysis</li>
                                        <li>‚Ä¢ Standpoint epistemology</li>
                                        <li>‚Ä¢ Coherence diagnosis</li>
                                        <li>‚Ä¢ Scope condition recognition</li>
                                    </ul>
                                </div>
                                <div>
                                    <div className="font-semibold mb-2">Conceptual Frameworks:</div>
                                    <ul className="space-y-1 text-gray-700">
                                        <li>‚Ä¢ OS1/OS2 dual capacity</li>
                                        <li>‚Ä¢ Five coherence dimensions</li>
                                        <li>‚Ä¢ FAIM-QIRF notation</li>
                                        <li>‚Ä¢ 12 philosophical traditions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <button
                            onClick={downloadCertificate}
                            className="w-full bg-purple-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-purple-700 mb-4"
                        >
                            üìÑ Download Your Certificate
                        </button>

                        <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                            <p className="text-sm text-gray-700">
                                <strong>Next Steps:</strong> Apply this framework throughout your ethics course. Use coherence 
                                analysis to understand when different ethical frameworks are accessible to you and others.
                                Remember: this isn't about which philosophy is "right"‚Äîit's about understanding scope conditions.
                            </p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Synthesis & Reflection</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Complete these reflections to consolidate your learning (100+ words each):
                    </p>
                    
                    <div className="space-y-6 mb-8">
                        <div>
                            <h4 className="font-bold mb-2 flex items-center">
                                <span className="mr-2">1.</span> Patterns Across Philosophers
                            </h4>
                            <p className="text-sm text-gray-600 mb-2">
                                What patterns did you notice across different philosophical traditions? How do standpoint 
                                and coherence requirements shape what each can see?
                            </p>
                            <textarea
                                className="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                rows="4"
                                placeholder="Reflect on patterns you noticed..."
                                value={reflections.patterns}
                                onChange={(e) => setReflections({...reflections, patterns: e.target.value})}
                            />
                            <div className="text-xs text-gray-500 mt-1">{reflections.patterns.length}/100 words minimum</div>
                        </div>

                        <div>
                            <h4 className="font-bold mb-2 flex items-center">
                                <span className="mr-2">2.</span> OS1/OS2 Integration
                            </h4>
                            <p className="text-sm text-gray-600 mb-2">
                                How does the OS1/OS2 framework change your understanding of ethical disagreements? 
                                What becomes visible at OS2 that's invisible at OS1?
                            </p>
                            <textarea
                                className="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                rows="4"
                                placeholder="Reflect on OS1/OS2 insights..."
                                value={reflections.osInsight}
                                onChange={(e) => setReflections({...reflections, osInsight: e.target.value})}
                            />
                            <div className="text-xs text-gray-500 mt-1">{reflections.osInsight.length}/100 words minimum</div>
                        </div>

                        <div>
                            <h4 className="font-bold mb-2 flex items-center">
                                <span className="mr-2">3.</span> Coherence & Your Life
                            </h4>
                            <p className="text-sm text-gray-600 mb-2">
                                Reflecting on your coherence self-assessment: which dimensions are strongest/weakest for you? 
                                How does this affect which ethical frameworks are accessible to you right now?
                            </p>
                            <textarea
                                className="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                rows="4"
                                placeholder="Reflect on your coherence state..."
                                value={reflections.coherenceReflection}
                                onChange={(e) => setReflections({...reflections, coherenceReflection: e.target.value})}
                            />
                            <div className="text-xs text-gray-500 mt-1">{reflections.coherenceReflection.length}/100 words minimum</div>
                        </div>

                        <div>
                            <h4 className="font-bold mb-2 flex items-center">
                                <span className="mr-2">4.</span> Practical Application
                            </h4>
                            <p className="text-sm text-gray-600 mb-2">
                                Give a concrete example of how you'll apply this framework. Where in your life (work, school, 
                                relationships) will Toulmin + coherence analysis be useful?
                            </p>
                            <textarea
                                className="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                rows="4"
                                placeholder="Describe a practical application..."
                                value={reflections.application}
                                onChange={(e) => setReflections({...reflections, application: e.target.value})}
                            />
                            <div className="text-xs text-gray-500 mt-1">{reflections.application.length}/100 words minimum</div>
                        </div>

                        <div>
                            <h4 className="font-bold mb-2 flex items-center">
                                <span className="mr-2">5.</span> Personal Growth & Next Steps
                            </h4>
                            <p className="text-sm text-gray-600 mb-2">
                                What conditions would need to change for you to access philosophical frameworks that are 
                                currently challenging? What concrete steps could improve your coherence dimensions?
                            </p>
                            <textarea
                                className="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                rows="4"
                                placeholder="Reflect on growth opportunities..."
                                value={reflections.personalGrowth}
                                onChange={(e) => setReflections({...reflections, personalGrowth: e.target.value})}
                            />
                            <div className="text-xs text-gray-500 mt-1">{reflections.personalGrowth.length}/100 words minimum</div>
                        </div>
                    </div>

                    {allComplete ? (
                        <button
                            onClick={() => { onComplete(); setShowCert(true); }}
                            className="w-full px-6 py-4 bg-purple-600 text-white rounded-lg font-semibold text-lg hover:bg-purple-700"
                        >
                            Complete & Generate Certificate üéì
                        </button>
                    ) : (
                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                            <p className="text-sm">Complete all 5 reflections (100+ words each) to generate your certificate</p>
                            <p className="text-xs text-gray-600 mt-2">
                                Completed: {Object.values(reflections).filter(r => r.length >= 100).length}/5
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
